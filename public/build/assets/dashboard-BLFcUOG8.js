import{j as e,u as $,a as k,H as F,L as G}from"./app-DHDqqX-V.js";import{C as x,a as j,b as p,c as m}from"./card-4OvKDv4H.js";import{B}from"./button-Cv1-xyb3.js";import{A as q,U as I}from"./app-layout-BkDGo_wD.js";import{d as U}from"./index-u1-Hf6Gb.js";import{R,P as H,a as K,C as V,T as A,L as X,B as Y,b as O,X as J,Y as Q,c as W,d as E,e as Z}from"./PieChart-DemuNEq7.js";import{T as _}from"./triangle-alert-BlP4Qx09.js";import{C}from"./clock-Du1LHGOf.js";import{C as L,F as w}from"./file-text-C7WQCdqc.js";import{C as ee}from"./circle-x-DnGBmNvI.js";/* empty css            */import"./index-C8kC-DJp.js";import"./index-DH1-xokN.js";import"./createLucideIcon-CyJ2xDM9.js";import"./index-DW9AIAM8.js";import"./log-out-Duux9n8I.js";function D({data:g,title:u,className:a=""}){const h=g.reduce((r,d)=>r+d.value,0),b=({cx:r,cy:d})=>e.jsx("text",{x:r,y:d,textAnchor:"middle",dominantBaseline:"middle",className:"text-2xl font-bold fill-current",children:h}),f=({active:r,payload:d})=>{if(r&&d&&d.length){const y=d[0],v=h>0?(y.value/h*100).toFixed(1):0;return e.jsxs("div",{className:"bg-white p-3 border border-gray-200 rounded-lg shadow-lg",children:[e.jsx("p",{className:"font-medium",children:y.name}),e.jsxs("p",{className:"text-sm text-gray-600",children:[y.value," (",v,"%)"]})]})}return null};return e.jsxs("div",{className:`w-full ${a}`,children:[u&&e.jsx("h3",{className:"text-lg font-semibold mb-4 text-center",children:u}),e.jsx(R,{width:"100%",height:250,children:e.jsxs(H,{children:[e.jsx(K,{data:g,cx:"50%",cy:"50%",labelLine:!1,label:b,outerRadius:80,innerRadius:50,fill:"#8884d8",dataKey:"value",children:g.map((r,d)=>e.jsx(V,{fill:r.color},`cell-${d}`))}),e.jsx(A,{content:f}),e.jsx(X,{verticalAlign:"bottom",height:36,formatter:(r,d)=>e.jsx("span",{style:{color:d.color},children:r})})]})})]})}function se({data:g,title:u,color:a="#3b82f6",className:h=""}){const b=({active:f,payload:r,label:d})=>f&&r&&r.length?e.jsxs("div",{className:"bg-white p-3 border border-gray-200 rounded-lg shadow-lg",children:[e.jsx("p",{className:"font-medium",children:d}),e.jsx("p",{className:"text-sm text-gray-600",children:r[0].value})]}):null;return e.jsxs("div",{className:`w-full ${h}`,children:[u&&e.jsx("h3",{className:"text-lg font-semibold mb-4",children:u}),e.jsx(R,{width:"100%",height:300,children:e.jsxs(Y,{data:g,margin:{top:20,right:30,left:20,bottom:5},children:[e.jsx(O,{strokeDasharray:"3 3",className:"opacity-30"}),e.jsx(J,{dataKey:"name",className:"text-xs",interval:0,angle:-45,textAnchor:"end",height:60}),e.jsx(Q,{className:"text-xs"}),e.jsx(A,{content:b}),e.jsx(W,{dataKey:"value",fill:a,radius:[4,4,0,0]})]})})]})}const ae=[{title:"Dashboard",href:U().url}];function ye(){const{auth:g}=$().props,u=g.user,[a,h]=k.useState(null),[b,f]=k.useState(!0),[r,d]=k.useState(null),y=u.roles||[],v=Array.isArray(y)?y.map(s=>s.rol||s.ID_Rol||s.nombre):[],z=v.some(s=>s==="13"||s==="14"),M=v.some(s=>s==="16");k.useEffect(()=>{(async()=>{try{f(!0),d(null);const t=await fetch("/api/dashboard/estadisticas");if(!t.ok)throw new Error("Error al cargar estadísticas");const o=await t.json(),N={...o,estadisticas_legales:o.estadisticas_fiscales,estadisticas_por_campus:o.estadisticas_por_campus?.map(n=>({...n,legales:n.fiscales,tiene_legales:n.tiene_fiscales})),documentos_por_tipo:o.documentos_por_tipo?.map(n=>({...n,tipo_documento:n.tipo_documento==="fiscales"?"legales":n.tipo_documento}))};h(N)}catch(t){console.error("Error cargando estadísticas:",t),d(t instanceof Error?t.message:"Error desconocido")}finally{f(!1)}})()},[]);const l=(()=>{if(!a)return null;if(a.tipo_usuario==="campus"){const s=a.estadisticas,t=a.estadisticas_legales,o=a.estadisticas_medicos,N=[{name:"Aprobados",value:s.aprobados,color:"#10b981"},{name:"Pendientes",value:s.pendientes,color:"#f59e0b"},{name:"En Revisión",value:s.en_revision,color:"#3b82f6"},{name:"Caducados",value:s.caducados,color:"#f97316"},{name:"Rechazados",value:s.rechazados,color:"#ef4444"}].filter(c=>c.value>0),n=t?[{name:"Aprobados",value:t.aprobados,color:"#10b981"},{name:"Pendientes",value:t.pendientes,color:"#f59e0b"},{name:"En Revisión",value:t.en_revision,color:"#3b82f6"},{name:"Caducados",value:t.caducados,color:"#f97316"},{name:"Rechazados",value:t.rechazados,color:"#ef4444"}].filter(c=>c.value>0):[],i=o?[{name:"Aprobados",value:o.aprobados,color:"#10b981"},{name:"Pendientes",value:o.pendientes,color:"#f59e0b"},{name:"En Revisión",value:o.en_revision,color:"#3b82f6"},{name:"Caducados",value:o.caducados,color:"#f97316"},{name:"Rechazados",value:o.rechazados,color:"#ef4444"}].filter(c=>c.value>0):[],S=a.documentos_por_tipo?.map(c=>({name:c.tipo_documento==="legales"?"Legales":"Médicos",value:c.cantidad,aprobados:c.aprobados}))||[];return{datosEstados:N,datosEstadosLegales:n,datosEstadosMedicos:i,datosTipos:S,tieneLegales:t&&t.total_documentos>0,tieneMedicos:o&&o.total_documentos>0}}else{a.estadisticas;const s=a.estadisticas_legales,t=a.estadisticas_medicos,o=s?[{name:"Aprobados",value:s.aprobados,color:"#10b981"},{name:"Pendientes",value:s.pendientes,color:"#f59e0b"},{name:"En Revisión",value:s.en_revision,color:"#3b82f6"},{name:"Caducados",value:s.caducados,color:"#f97316"},{name:"Rechazados",value:s.rechazados,color:"#ef4444"}].filter(i=>i.value>0):[],N=t?[{name:"Aprobados",value:t.aprobados,color:"#10b981"},{name:"Pendientes",value:t.pendientes,color:"#f59e0b"},{name:"En Revisión",value:t.en_revision,color:"#3b82f6"},{name:"Caducados",value:t.caducados,color:"#f97316"},{name:"Rechazados",value:t.rechazados,color:"#ef4444"}].filter(i=>i.value>0):[];return{datosCumplimiento:a.cumplimiento_por_campus?.slice(0,10).map(i=>({name:i.Campus.length>15?i.Campus.substring(0,15)+"...":i.Campus,value:i.porcentaje_cumplimiento}))||[],datosEstadosLegales:o,datosEstadosMedicos:N,tieneLegales:s&&s.aprobados+s.pendientes+s.en_revision+s.caducados+s.rechazados>0,tieneMedicos:t&&t.aprobados+t.pendientes+t.en_revision+t.caducados+t.rechazados>0}}})(),P=s=>{switch(s){case"aprobado":return e.jsx(L,{className:"w-4 h-4 text-green-500"});case"pendiente":return e.jsx(C,{className:"w-4 h-4 text-yellow-500"});case"subido":return e.jsx(w,{className:"w-4 h-4 text-blue-500"});case"rechazado":return e.jsx(ee,{className:"w-4 h-4 text-red-500"});default:return e.jsx(w,{className:"w-4 h-4 text-gray-500"})}},T=s=>new Date(s).toLocaleDateString("es-ES",{day:"numeric",month:"short",hour:"2-digit",minute:"2-digit"});return e.jsxs(q,{breadcrumbs:ae,children:[e.jsx(F,{title:"Dashboard"}),e.jsxs("div",{className:"flex h-full flex-1 flex-col gap-4 overflow-x-auto rounded-xl p-4",children:[b&&e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsxs("div",{className:"flex flex-col items-center gap-4",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"}),e.jsx("p",{className:"text-muted-foreground dark:text-gray-400",children:"Cargando estadísticas..."})]})}),r&&!b&&e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsxs("div",{className:"text-center",children:[e.jsx(_,{className:"w-12 h-12 text-red-500 dark:text-red-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold mb-2 dark:text-gray-200",children:"Error al cargar el dashboard"}),e.jsx("p",{className:"text-muted-foreground dark:text-gray-400 mb-4",children:r}),e.jsx(B,{onClick:()=>window.location.reload(),children:"Reintentar"})]})}),!b&&!r&&a&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"mb-8",children:M?e.jsxs(e.Fragment,{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight mb-2 dark:text-gray-100",children:"Panel de Supervisión - Documentos Fiscales"}),e.jsx("p",{className:"text-muted-foreground dark:text-gray-400",children:"Monitorea el cumplimiento y estado de documentos fiscales en todos los campus"})]}):e.jsxs(e.Fragment,{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight mb-2 dark:text-gray-100",children:"Panel de Campus - Gestión de Documentos"}),e.jsx("p",{className:"text-muted-foreground dark:text-gray-400",children:"Gestiona, sube y visualiza todos los documentos legales y médicos requeridos para tu campus"})]})}),z&&a.tipo_usuario==="campus"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid gap-4 md:grid-cols-4 mb-8",children:[e.jsxs(x,{className:"dark:bg-gray-800 dark:border-gray-700",children:[e.jsx(j,{className:"pb-3",children:e.jsxs(p,{className:"text-sm font-medium flex items-center gap-2 dark:text-gray-200",children:[e.jsx(C,{className:"w-4 h-4 text-yellow-500 dark:text-yellow-400"}),"Pendientes"]})}),e.jsxs(m,{children:[e.jsx("div",{className:"text-2xl font-bold mb-1 dark:text-gray-100",children:a.estadisticas.pendientes}),e.jsx("p",{className:"text-xs text-muted-foreground dark:text-gray-400",children:"Documentos que requieren atención"})]})]}),e.jsxs(x,{className:"dark:bg-gray-800 dark:border-gray-700",children:[e.jsx(j,{className:"pb-3",children:e.jsxs(p,{className:"text-sm font-medium flex items-center gap-2 dark:text-gray-200",children:[e.jsx(L,{className:"w-4 h-4 text-green-500 dark:text-green-400"}),"Aprobados"]})}),e.jsxs(m,{children:[e.jsx("div",{className:"text-2xl font-bold mb-1 text-green-600 dark:text-green-400",children:a.estadisticas.aprobados}),e.jsx("p",{className:"text-xs text-muted-foreground dark:text-gray-400",children:"Documentos verificados"})]})]}),e.jsxs(x,{className:"dark:bg-gray-800 dark:border-gray-700",children:[e.jsx(j,{className:"pb-3",children:e.jsxs(p,{className:"text-sm font-medium flex items-center gap-2 dark:text-gray-200",children:[e.jsx(w,{className:"w-4 h-4 dark:text-gray-400"}),"Total"]})}),e.jsxs(m,{children:[e.jsx("div",{className:"text-2xl font-bold mb-1 dark:text-gray-100",children:a.estadisticas.total_documentos}),e.jsx("p",{className:"text-xs text-muted-foreground dark:text-gray-400",children:"Total de documentos"})]})]}),e.jsx(x,{className:"cursor-pointer transition-colors hover:bg-muted/50 dark:bg-gray-800 dark:border-gray-700 dark:hover:bg-gray-700/50",children:e.jsx(m,{className:"p-6",children:e.jsxs(G,{href:"/documentos/upload",className:"flex flex-col items-center text-center",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-primary/10 dark:bg-primary/20 flex items-center justify-center mb-2",children:e.jsx(I,{className:"w-4 h-4 text-primary"})}),e.jsx("h3",{className:"text-sm font-medium mb-1 dark:text-gray-200",children:"Gestionar"}),e.jsx("p",{className:"text-xs text-muted-foreground dark:text-gray-400",children:"Subir documentos"})]})})})]}),e.jsx("div",{className:"grid gap-6 mb-8",children:l&&(l.datosEstados&&l.datosEstados.length>0||l.datosEstadosLegales&&l.datosEstadosLegales.length>0||l.datosEstadosMedicos&&l.datosEstadosMedicos.length>0)&&e.jsxs(x,{className:"col-span-full dark:bg-gray-800 dark:border-gray-700",children:[e.jsx(j,{children:e.jsxs(p,{className:"text-xl flex items-center gap-3 dark:text-gray-100",children:[e.jsx(E,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"}),"Resumen Visual de Documentos"]})}),e.jsx(m,{children:e.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[e.jsx("div",{className:"lg:col-span-2",children:l.datosEstados&&l.datosEstados.length>0?e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-semibold text-gray-700 dark:text-gray-200",children:"Estado General de Documentos"}),e.jsx(se,{data:l.datosEstados.map(s=>({name:s.name,value:s.value})),color:"#3b82f6"})]}):e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[l.tieneLegales&&l.datosEstadosLegales.length>0&&e.jsxs("div",{children:[e.jsxs("h4",{className:"font-semibold text-blue-700 dark:text-blue-400 mb-3 flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 bg-blue-500 dark:bg-blue-400 rounded-full"}),"Documentos Legales"]}),e.jsx(D,{data:l.datosEstadosLegales})]}),l.tieneMedicos&&l.datosEstadosMedicos.length>0&&e.jsxs("div",{children:[e.jsxs("h4",{className:"font-semibold text-green-700 dark:text-green-400 mb-3 flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 bg-green-500 dark:bg-green-400 rounded-full"}),"Documentos Médicos"]}),e.jsx(D,{data:l.datosEstadosMedicos})]})]})}),e.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-blue-900/20 dark:to-indigo-900/20 rounded-lg p-4",children:[e.jsxs("h4",{className:"font-semibold text-gray-700 dark:text-gray-200 mb-3 flex items-center gap-2",children:[e.jsx(Z,{className:"w-4 h-4 text-blue-600 dark:text-blue-400"}),"Insights Rápidos"]}),e.jsxs("div",{className:"space-y-3 text-sm",children:[e.jsxs("div",{className:"flex items-center justify-between p-2 bg-white dark:bg-gray-800 rounded",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Total Documentos"}),e.jsx("span",{className:"font-bold text-lg dark:text-gray-100",children:a.estadisticas.total_documentos})]}),e.jsxs("div",{className:"flex items-center justify-between p-2 bg-white dark:bg-gray-800 rounded",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"% Completado"}),e.jsxs("span",{className:"font-bold text-lg text-green-600 dark:text-green-400",children:[a.estadisticas.total_documentos>0?Math.round(a.estadisticas.aprobados/a.estadisticas.total_documentos*100):0,"%"]})]}),e.jsxs("div",{className:"flex items-center justify-between p-2 bg-white dark:bg-gray-800 rounded",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Pendientes"}),e.jsx("span",{className:"font-bold text-lg text-yellow-600 dark:text-yellow-400",children:a.estadisticas.pendientes})]}),e.jsxs("div",{className:"mt-3 p-2 bg-white dark:bg-gray-800 rounded",children:[e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:"Progreso General"}),e.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:e.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-green-500 h-2 rounded-full transition-all duration-700",style:{width:`${a.estadisticas.total_documentos>0?Math.round(a.estadisticas.aprobados/a.estadisticas.total_documentos*100):0}%`}})})]})]})]})]})})]})}),a.estadisticas_por_campus&&a.estadisticas_por_campus.length>0&&e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx(E,{className:"w-6 h-6 text-indigo-600 dark:text-indigo-400"}),e.jsx("h2",{className:"text-xl font-bold dark:text-gray-100",children:"Desglose Detallado por Campus"}),e.jsx("div",{className:"flex-1 h-px bg-gradient-to-r from-indigo-200 dark:from-indigo-800 to-transparent"})]}),e.jsx("div",{className:"grid gap-6 lg:grid-cols-1 xl:grid-cols-2",children:a.estadisticas_por_campus.map(s=>e.jsxs(x,{className:"border-l-4 border-l-indigo-500 dark:border-l-indigo-400 hover:shadow-lg transition-shadow dark:bg-gray-800 dark:border-gray-700",children:[e.jsx(j,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(p,{className:"text-lg font-semibold text-gray-800 dark:text-gray-100",children:s.campus_nombre}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs("div",{className:`px-3 py-1 rounded-full text-xs font-medium ${s.porcentaje_cumplimiento>=80?"bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-400":s.porcentaje_cumplimiento>=60?"bg-yellow-100 dark:bg-yellow-900/30 text-yellow-800 dark:text-yellow-400":"bg-red-100 dark:bg-red-900/30 text-red-800 dark:text-red-400"}`,children:[s.porcentaje_cumplimiento,"% cumplimiento"]})})]})}),e.jsx(m,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-3 gap-3 text-center",children:[e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-lg p-3",children:[e.jsx("div",{className:"text-xl font-bold text-gray-900 dark:text-gray-100",children:s.total_documentos}),e.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Total"})]}),e.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 rounded-lg p-3",children:[e.jsx("div",{className:"text-xl font-bold text-green-600 dark:text-green-400",children:s.total_aprobados}),e.jsx("div",{className:"text-xs text-green-700 dark:text-green-400",children:"Aprobados"})]}),e.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-3",children:[e.jsx("div",{className:"text-xl font-bold text-blue-600 dark:text-blue-400",children:s.total_documentos-s.total_aprobados}),e.jsx("div",{className:"text-xs text-blue-700 dark:text-blue-400",children:"Pendientes"})]})]}),e.jsxs("div",{className:"grid gap-3",children:[s.tiene_legales&&e.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-3",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("div",{className:"w-3 h-3 bg-blue-500 dark:bg-blue-400 rounded-full"}),e.jsx("span",{className:"font-medium text-blue-800 dark:text-blue-300",children:"Documentos Legales"})]}),e.jsxs("div",{className:"grid grid-cols-5 gap-2 text-sm",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"font-semibold text-green-600 dark:text-green-400",children:s.legales.aprobados}),e.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Aprobados"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"font-semibold text-yellow-600 dark:text-yellow-400",children:s.legales.pendientes}),e.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Pendientes"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"font-semibold text-blue-600 dark:text-blue-400",children:s.legales.subidos||0}),e.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Subidos"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"font-semibold text-orange-600 dark:text-orange-400",children:s.legales.caducados}),e.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Caducados"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"font-semibold text-red-600 dark:text-red-400",children:s.legales.rechazados}),e.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Rechazados"})]})]})]}),s.tiene_medicos&&e.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg p-3",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("div",{className:"w-3 h-3 bg-green-500 dark:bg-green-400 rounded-full"}),e.jsx("span",{className:"font-medium text-green-800 dark:text-green-300",children:"Documentos Médicos"})]}),e.jsxs("div",{className:"grid grid-cols-5 gap-2 text-sm",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"font-semibold text-green-600 dark:text-green-400",children:s.medicos.aprobados}),e.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Aprobados"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"font-semibold text-yellow-600 dark:text-yellow-400",children:s.medicos.pendientes}),e.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Pendientes"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"font-semibold text-blue-600 dark:text-blue-400",children:s.medicos.subidos||0}),e.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Subidos"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"font-semibold text-orange-600 dark:text-orange-400",children:s.medicos.caducados}),e.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Caducados"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"font-semibold text-red-600 dark:text-red-400",children:s.medicos.rechazados}),e.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Rechazados"})]})]})]}),!s.tiene_legales&&!s.tiene_medicos&&e.jsx("div",{className:"text-center py-4 text-gray-500 dark:text-gray-400 text-sm",children:"No hay documentos registrados para este campus"})]}),e.jsxs("div",{className:"mt-3",children:[e.jsxs("div",{className:"flex justify-between text-xs text-gray-600 dark:text-gray-400 mb-1",children:[e.jsx("span",{children:"Progreso de Cumplimiento"}),e.jsxs("span",{children:[s.porcentaje_cumplimiento,"%"]})]}),e.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:e.jsx("div",{className:`h-2 rounded-full transition-all duration-500 ${s.porcentaje_cumplimiento>=80?"bg-green-500 dark:bg-green-400":s.porcentaje_cumplimiento>=60?"bg-yellow-500 dark:bg-yellow-400":"bg-red-500 dark:bg-red-400"}`,style:{width:`${s.porcentaje_cumplimiento}%`}})})]})]})})]},s.campus_id))})]}),e.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[e.jsxs(x,{className:"dark:bg-gray-800 dark:border-gray-700",children:[e.jsx(j,{children:e.jsxs(p,{className:"text-lg flex items-center gap-2 dark:text-gray-100",children:[e.jsx(C,{className:"w-5 h-5 text-blue-500 dark:text-blue-400"}),"Actividad Reciente",a.actividad_reciente&&a.actividad_reciente.length>0&&e.jsxs("span",{className:"text-xs bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-400 px-2 py-1 rounded-full",children:[a.actividad_reciente.length," eventos"]})]})}),e.jsx(m,{children:e.jsx("div",{className:"space-y-3 max-h-80 overflow-y-auto",children:a.actividad_reciente&&a.actividad_reciente.length>0?a.actividad_reciente.slice(0,8).map((s,t)=>e.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-lg border dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors",children:[e.jsx("div",{className:"flex-shrink-0 mt-0.5",children:P(s.estado)}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-gray-100 truncate",children:s.documento_nombre}),s.tipo_documento&&e.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full font-medium ${s.tipo_documento==="MÉDICO"?"bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400":"bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-400"}`,children:s.tipo_documento})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${s.estado.toLowerCase()==="aprobado"||s.estado.toLowerCase()==="vigente"?"bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400":s.estado.toLowerCase()==="pendiente"?"bg-yellow-100 dark:bg-yellow-900/30 text-yellow-700 dark:text-yellow-400":s.estado.toLowerCase()==="rechazado"?"bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-400":s.estado.toLowerCase()==="caducado"?"bg-orange-100 dark:bg-orange-900/30 text-orange-700 dark:text-orange-400":s.estado.toLowerCase()==="en_revision"||s.estado.toLowerCase()==="subido"?"bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-400":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-400"}`,children:s.estado.charAt(0).toUpperCase()+s.estado.slice(1).toLowerCase()}),e.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:T(s.updated_at)})]})]})]},t)):e.jsxs("div",{className:"text-center py-12 text-muted-foreground dark:text-gray-400",children:[e.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-gray-100 dark:bg-gray-700 rounded-full flex items-center justify-center",children:e.jsx(w,{className:"w-8 h-8 text-gray-400"})}),e.jsx("p",{className:"text-lg font-medium text-gray-600 dark:text-gray-300 mb-1",children:"Sin actividad reciente"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Los documentos procesados aparecerán aquí"})]})})})]}),a.documentos_vencidos&&a.documentos_vencidos.length>0&&e.jsxs(x,{className:"dark:bg-gray-800 dark:border-gray-700",children:[e.jsx(j,{children:e.jsxs(p,{className:"text-lg flex items-center gap-2 dark:text-gray-100",children:[e.jsx(_,{className:"w-5 h-5 text-yellow-500 dark:text-yellow-400"}),"Próximos a Vencer"]})}),e.jsx(m,{children:e.jsx("div",{className:"space-y-3",children:a.documentos_vencidos.map((s,t)=>e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border border-yellow-200 dark:border-yellow-800 bg-yellow-50 dark:bg-yellow-900/20",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(_,{className:"w-4 h-4 text-yellow-500 dark:text-yellow-400"}),e.jsx("span",{className:"text-sm dark:text-gray-200",children:s.documento_nombre})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-xs font-medium text-yellow-600 dark:text-yellow-400",children:s.dias_restantes>0?`${s.dias_restantes} días`:"Vencido"}),e.jsx("div",{className:"text-xs text-muted-foreground dark:text-gray-400",children:new Date(s.fecha_vigencia_ia).toLocaleDateString("es-ES")})]})]},t))})})]})]})]})]})]})]})}export{ye as default};
