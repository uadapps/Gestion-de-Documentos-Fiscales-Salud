import{a as c,u as Ge,j as r,H as $e,L as Ve}from"./app-D8A6MmTC.js";import{A as He,c as X}from"./app-layout-KA4ZYzCR.js";import{C as P,a as D,b as S,c as w}from"./card-D2pZnewG.js";import{B as le}from"./badge-FcV8ZrTE.js";import{b as te,B}from"./button-BGV-kG6u.js";import{c as ke}from"./createLucideIcon-B7odIqhP.js";import{F as ne,C as Ue}from"./file-text-CTmfoya1.js";import{f as Ne,s as re,u as Ae,g as Xe,h as Ye,i as Ce,j as Pe,k as K,l as se,m as ie,n as we,o as Ie,p as qe,q as oe,r as Je,t as Ee,v as ce,w as Qe,x as _e,y as De,z as Ze,S as ea,A as aa,D as ta,E as ra,G as sa,F as Se,H as ia,I as la,J as na,K as oa,M as Oe,N as ca,O as de,Q as ue,U as T,V as da,W as ua,Z as z,_ as ma,$ as pa,a0 as xa,a1 as Y,a2 as ha,a3 as H,a4 as ga,a5 as fa,e as me,d as q,R as G,B as pe,b as J,X as Q,Y as Z,T as $,L as V,c as F,P as ba,a as ya,C as va}from"./PieChart-C9-CFUzF.js";import{C as xe}from"./clock-DnEOvGvT.js";import{T as he}from"./triangle-alert-vv1sRSag.js";/* empty css            */import"./index-C_HFOC-c.js";import"./index-F78BPGYV.js";import"./index-DW9AIAM8.js";import"./log-out-DqFEyMac.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ja=[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]],ka=ke("Filter",ja);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Na=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],ge=ke("Shield",Na);function ee(){return ee=Object.assign?Object.assign.bind():function(a){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var s in t)({}).hasOwnProperty.call(t,s)&&(a[s]=t[s])}return a},ee.apply(null,arguments)}var Le=a=>{var{cx:e,cy:t,r:s,className:o}=a,n=te("recharts-dot",o);return e===+e&&t===+t&&s===+s?c.createElement("circle",ee({},re(a),Ne(a),{className:n,cx:e,cy:t,r:s})):null};function fe(a,e){var t=Object.keys(a);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(a);e&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(a,o).enumerable})),t.push.apply(t,s)}return t}function be(a){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?fe(Object(t),!0).forEach(function(s){Aa(a,s,t[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(t)):fe(Object(t)).forEach(function(s){Object.defineProperty(a,s,Object.getOwnPropertyDescriptor(t,s))})}return a}function Aa(a,e,t){return(e=Ca(e))in a?Object.defineProperty(a,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):a[e]=t,a}function Ca(a){var e=Pa(a,"string");return typeof e=="symbol"?e:e+""}function Pa(a,e){if(typeof a!="object"||!a)return a;var t=a[Symbol.toPrimitive];if(t!==void 0){var s=t.call(a,e);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(a)}var wa=a=>{var{point:e,childIndex:t,mainColor:s,activeDot:o,dataKey:n}=a;if(o===!1||e.x==null||e.y==null)return null;var d=be(be({index:t,dataKey:n,cx:e.x,cy:e.y,r:4,fill:s??"none",strokeWidth:2,stroke:"#fff",payload:e.payload,value:e.value},Pe(o)),Ne(o)),l;return c.isValidElement(o)?l=c.cloneElement(o,d):typeof o=="function"?l=o(d):l=c.createElement(Le,d),c.createElement(K,{className:"recharts-active-dot"},l)};function ye(a){var{points:e,mainColor:t,activeDot:s,itemDataKey:o}=a,n=Ae(Xe),d=Ye();if(e==null||d==null)return null;var l=e.find(m=>d.includes(m.payload));return Ce(l)?null:wa({point:l,childIndex:Number(n),mainColor:t,dataKey:o,activeDot:s})}function Ia(a){var e=Pe(a),t=3,s=2;if(e!=null){var{r:o,strokeWidth:n}=e,d=Number(o),l=Number(n);return(Number.isNaN(d)||d<0)&&(d=t),(Number.isNaN(l)||l<0)&&(l=s),{r:d,strokeWidth:l}}return{r:t,strokeWidth:s}}var Me=(a,e,t,s)=>we(a,"xAxis",e,s),ze=(a,e,t,s)=>Ie(a,"xAxis",e,s),Ke=(a,e,t,s)=>we(a,"yAxis",t,s),Te=(a,e,t,s)=>Ie(a,"yAxis",t,s),Ea=se([ie,Me,Ke,ze,Te],(a,e,t,s,o)=>Ee(a,"xAxis")?ce(e,s,!1):ce(t,o,!1)),_a=(a,e,t,s,o)=>o,Re=se([Qe,_a],(a,e)=>a.filter(t=>t.type==="area").find(t=>t.id===e)),Da=(a,e,t,s,o)=>{var n,d=Re(a,e,t,s,o);if(d!=null){var l=ie(a),m=Ee(l,"xAxis"),p;if(m?p=oe(a,"yAxis",t,s):p=oe(a,"xAxis",e,s),p!=null){var{stackId:v}=d,N=Je(d);if(!(v==null||N==null)){var x=(n=p[v])===null||n===void 0?void 0:n.stackedData;return x?.find(h=>h.key===N)}}}},Sa=se([ie,Me,Ke,ze,Te,Da,qe,Ea,Re],(a,e,t,s,o,n,d,l,m)=>{var{chartData:p,dataStartIndex:v,dataEndIndex:N}=d;if(!(m==null||a!=="horizontal"&&a!=="vertical"||e==null||t==null||s==null||o==null||s.length===0||o.length===0||l==null)){var{data:x}=m,h;if(x&&x.length>0?h=x:h=p?.slice(v,N+1),h!=null){var A=void 0;return Za({layout:a,xAxis:e,yAxis:t,xAxisTicks:s,yAxisTicks:o,dataStartIndex:v,areaSettings:m,stackedData:n,displayedData:h,chartBaseValue:A,bandSize:l})}}}),Oa=["id"],La=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function Be(a,e){if(a==null)return{};var t,s,o=Ma(a,e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(a);for(s=0;s<n.length;s++)t=n[s],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(a,t)&&(o[t]=a[t])}return o}function Ma(a,e){if(a==null)return{};var t={};for(var s in a)if({}.hasOwnProperty.call(a,s)){if(e.indexOf(s)!==-1)continue;t[s]=a[s]}return t}function ve(a,e){var t=Object.keys(a);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(a);e&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(a,o).enumerable})),t.push.apply(t,s)}return t}function I(a){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?ve(Object(t),!0).forEach(function(s){za(a,s,t[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(t)):ve(Object(t)).forEach(function(s){Object.defineProperty(a,s,Object.getOwnPropertyDescriptor(t,s))})}return a}function za(a,e,t){return(e=Ka(e))in a?Object.defineProperty(a,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):a[e]=t,a}function Ka(a){var e=Ta(a,"string");return typeof e=="symbol"?e:e+""}function Ta(a,e){if(typeof a!="object"||!a)return a;var t=a[Symbol.toPrimitive];if(t!==void 0){var s=t.call(a,e);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(a)}function E(){return E=Object.assign?Object.assign.bind():function(a){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var s in t)({}).hasOwnProperty.call(t,s)&&(a[s]=t[s])}return a},E.apply(null,arguments)}function U(a,e){return a&&a!=="none"?a:e}var Ra=a=>{var{dataKey:e,name:t,stroke:s,fill:o,legendType:n,hide:d}=a;return[{inactive:d,dataKey:e,type:n,color:U(s,o),value:Se(t,e),payload:a}]};function Ba(a){var{dataKey:e,data:t,stroke:s,strokeWidth:o,fill:n,name:d,hide:l,unit:m}=a;return{dataDefinedOnItem:t,positions:void 0,settings:{stroke:s,strokeWidth:o,fill:n,dataKey:e,nameKey:void 0,name:Se(d,e),hide:l,type:a.tooltipType,color:U(s,n),unit:m}}}var Fa=(a,e)=>{var t;if(c.isValidElement(a))t=c.cloneElement(a,e);else if(typeof a=="function")t=a(e);else{var s=te("recharts-area-dot",typeof a!="boolean"?a.className:"");t=c.createElement(Le,E({},e,{className:s}))}return t};function Wa(a,e){return a==null?!1:e?!0:a.length===1}function Ga(a){var{clipPathId:e,points:t,props:s}=a,{needClip:o,dot:n,dataKey:d}=s;if(!Wa(t,n))return null;var l=Oe(n),m=re(s),p=ha(n),v=t.map((x,h)=>{var A=I(I(I({key:"dot-".concat(h),r:3},m),p),{},{index:h,cx:x.x,cy:x.y,dataKey:d,value:x.value,payload:x.payload,points:t});return Fa(n,A)}),N={clipPath:o?"url(#clipPath-".concat(l?"":"dots-").concat(e,")"):void 0};return c.createElement(K,E({className:"recharts-area-dots"},N),v)}function $a(a){var{showLabels:e,children:t,points:s}=a,o=s.map(n=>{var d={x:n.x,y:n.y,width:0,height:0};return I(I({},d),{},{value:n.value,payload:n.payload,parentViewBox:void 0,viewBox:d,fill:void 0})});return c.createElement(xa,{value:e?o:null},t)}function je(a){var{points:e,baseLine:t,needClip:s,clipPathId:o,props:n}=a,{layout:d,type:l,stroke:m,connectNulls:p,isRange:v}=n,{id:N}=n,x=Be(n,Oa),h=re(x);return c.createElement(c.Fragment,null,e?.length>1&&c.createElement(K,{clipPath:s?"url(#clipPath-".concat(o,")"):void 0},c.createElement(Y,E({},h,{id:N,points:e,connectNulls:p,type:l,baseLine:t,layout:d,stroke:"none",className:"recharts-area-area"})),m!=="none"&&c.createElement(Y,E({},h,{className:"recharts-area-curve",layout:d,type:l,connectNulls:p,fill:"none",points:e})),m!=="none"&&v&&c.createElement(Y,E({},h,{className:"recharts-area-curve",layout:d,type:l,connectNulls:p,fill:"none",points:t}))),c.createElement(Ga,{points:e,props:x,clipPathId:o}))}function Va(a){var{alpha:e,baseLine:t,points:s,strokeWidth:o}=a,n=s[0].y,d=s[s.length-1].y;if(!H(n)||!H(d))return null;var l=e*Math.abs(n-d),m=Math.max(...s.map(p=>p.x||0));return T(t)?m=Math.max(t,m):t&&Array.isArray(t)&&t.length&&(m=Math.max(...t.map(p=>p.x||0),m)),T(m)?c.createElement("rect",{x:0,y:n<d?n:n-l,width:m+(o?parseInt("".concat(o),10):1),height:Math.floor(l)}):null}function Ha(a){var{alpha:e,baseLine:t,points:s,strokeWidth:o}=a,n=s[0].x,d=s[s.length-1].x;if(!H(n)||!H(d))return null;var l=e*Math.abs(n-d),m=Math.max(...s.map(p=>p.y||0));return T(t)?m=Math.max(t,m):t&&Array.isArray(t)&&t.length&&(m=Math.max(...t.map(p=>p.y||0),m)),T(m)?c.createElement("rect",{x:n<d?n:n-l,y:0,width:l,height:Math.floor(m+(o?parseInt("".concat(o),10):1))}):null}function Ua(a){var{alpha:e,layout:t,points:s,baseLine:o,strokeWidth:n}=a;return t==="vertical"?c.createElement(Va,{alpha:e,points:s,baseLine:o,strokeWidth:n}):c.createElement(Ha,{alpha:e,points:s,baseLine:o,strokeWidth:n})}function Xa(a){var{needClip:e,clipPathId:t,props:s,previousPointsRef:o,previousBaselineRef:n}=a,{points:d,baseLine:l,isAnimationActive:m,animationBegin:p,animationDuration:v,animationEasing:N,onAnimationStart:x,onAnimationEnd:h}=s,A=da(s,"recharts-area-"),[i,u]=c.useState(!1),f=!i,y=c.useCallback(()=>{typeof h=="function"&&h(),u(!1)},[h]),j=c.useCallback(()=>{typeof x=="function"&&x(),u(!0)},[x]),b=o.current,k=n.current;return c.createElement($a,{showLabels:f,points:d},s.children,c.createElement(ua,{animationId:A,begin:p,duration:v,isActive:m,easing:N,onAnimationEnd:y,onAnimationStart:j,key:A},g=>{if(b){var O=b.length/d.length,W=g===1?d:d.map((C,R)=>{var L=Math.floor(R*O);if(b[L]){var M=b[L];return I(I({},C),{},{x:z(M.x,C.x,g),y:z(M.y,C.y,g)})}return C}),_;return T(l)?_=z(k,l,g):Ce(l)||ma(l)?_=z(k,0,g):_=l.map((C,R)=>{var L=Math.floor(R*O);if(Array.isArray(k)&&k[L]){var M=k[L];return I(I({},C),{},{x:z(M.x,C.x,g),y:z(M.y,C.y,g)})}return C}),g>0&&(o.current=W,n.current=_),c.createElement(je,{points:W,baseLine:_,needClip:e,clipPathId:t,props:s})}return g>0&&(o.current=d,n.current=l),c.createElement(K,null,m&&c.createElement("defs",null,c.createElement("clipPath",{id:"animationClipPath-".concat(t)},c.createElement(Ua,{alpha:g,points:d,baseLine:l,layout:s.layout,strokeWidth:s.strokeWidth}))),c.createElement(K,{clipPath:"url(#animationClipPath-".concat(t,")")},c.createElement(je,{points:d,baseLine:l,needClip:e,clipPathId:t,props:s})))}),c.createElement(pa,{label:s.label}))}function Ya(a){var{needClip:e,clipPathId:t,props:s}=a,o=c.useRef(null),n=c.useRef();return c.createElement(Xa,{needClip:e,clipPathId:t,props:s,previousPointsRef:o,previousBaselineRef:n})}class qa extends c.PureComponent{render(){var{hide:e,dot:t,points:s,className:o,top:n,left:d,needClip:l,xAxisId:m,yAxisId:p,width:v,height:N,id:x,baseLine:h}=this.props;if(e)return null;var A=te("recharts-area",o),i=x,{r:u,strokeWidth:f}=Ia(t),y=Oe(t),j=u*2+f;return c.createElement(c.Fragment,null,c.createElement(K,{className:A},l&&c.createElement("defs",null,c.createElement(ca,{clipPathId:i,xAxisId:m,yAxisId:p}),!y&&c.createElement("clipPath",{id:"clipPath-dots-".concat(i)},c.createElement("rect",{x:d-j/2,y:n-j/2,width:v+j,height:N+j}))),c.createElement(Ya,{needClip:l,clipPathId:i,props:this.props})),c.createElement(ye,{points:s,mainColor:U(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}),this.props.isRange&&Array.isArray(h)&&c.createElement(ye,{points:h,mainColor:U(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}))}}var Fe={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:!sa.isSsr,legendType:"line",stroke:"#3182bd",xAxisId:0,yAxisId:0};function Ja(a){var e,t=_e(a,Fe),{activeDot:s,animationBegin:o,animationDuration:n,animationEasing:d,connectNulls:l,dot:m,fill:p,fillOpacity:v,hide:N,isAnimationActive:x,legendType:h,stroke:A,xAxisId:i,yAxisId:u}=t,f=Be(t,La),y=ia(),j=la(),{needClip:b}=na(i,u),k=De(),{points:g,isRange:O,baseLine:W}=(e=Ae(We=>Sa(We,i,u,k,a.id)))!==null&&e!==void 0?e:{},_=oa();if(y!=="horizontal"&&y!=="vertical"||_==null||j!=="AreaChart"&&j!=="ComposedChart")return null;var{height:C,width:R,x:L,y:M}=_;return!g||!g.length?null:c.createElement(qa,E({},f,{activeDot:s,animationBegin:o,animationDuration:n,animationEasing:d,baseLine:W,connectNulls:l,dot:m,fill:p,fillOpacity:v,height:C,hide:N,layout:y,isAnimationActive:x,isRange:O,legendType:h,needClip:b,points:g,stroke:A,width:R,left:L,top:M,xAxisId:i,yAxisId:u}))}var Qa=(a,e,t,s,o)=>{var n=t??e;if(T(n))return n;var d=a==="horizontal"?o:s,l=d.scale.domain();if(d.type==="number"){var m=Math.max(l[0],l[1]),p=Math.min(l[0],l[1]);return n==="dataMin"?p:n==="dataMax"||m<0?m:Math.max(Math.min(l[0],l[1]),0)}return n==="dataMin"?l[0]:n==="dataMax"?l[1]:l[0]};function Za(a){var{areaSettings:{connectNulls:e,baseValue:t,dataKey:s},stackedData:o,layout:n,chartBaseValue:d,xAxis:l,yAxis:m,displayedData:p,dataStartIndex:v,xAxisTicks:N,yAxisTicks:x,bandSize:h}=a,A=o&&o.length,i=Qa(n,d,t,l,m),u=n==="horizontal",f=!1,y=p.map((b,k)=>{var g;A?g=o[v+k]:(g=de(b,s),Array.isArray(g)?f=!0:g=[i,g]);var O=g[1]==null||A&&!e&&de(b,s)==null;return u?{x:ue({axis:l,ticks:N,bandSize:h,entry:b,index:k}),y:O?null:m.scale(g[1]),value:g,payload:b}:{x:O?null:l.scale(g[1]),y:ue({axis:m,ticks:x,bandSize:h,entry:b,index:k}),value:g,payload:b}}),j;return A||f?j=y.map(b=>{var k=Array.isArray(b.value)?b.value[0]:null;return u?{x:b.x,y:k!=null&&b.y!=null?m.scale(k):null,payload:b.payload}:{x:k!=null?l.scale(k):null,y:b.y,payload:b.payload}}):j=u?m.scale(i):l.scale(i),{points:y,baseLine:j,isRange:f}}function et(a){var e=_e(a,Fe),t=De();return c.createElement(Ze,{id:e.id,type:"area"},s=>c.createElement(c.Fragment,null,c.createElement(ea,{legendPayload:Ra(e)}),c.createElement(aa,{fn:Ba,args:e}),c.createElement(ta,{type:"area",id:s,data:e.data,dataKey:e.dataKey,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,stackId:ra(e.stackId),hide:e.hide,barSize:void 0,baseValue:e.baseValue,isPanorama:t,connectNulls:e.connectNulls}),c.createElement(Ja,E({},e,{id:s}))))}var ae=c.memo(et);ae.displayName="Area";var at=["axis"],tt=c.forwardRef((a,e)=>c.createElement(ga,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:at,tooltipPayloadSearcher:fa,categoricalChartProps:a,ref:e}));function bt(){const{datosSupervision:a}=Ge().props,[e,t]=c.useState("general"),[s,o]=c.useState(!1),n=[{title:"Dashboard",href:"/"}],l=a?a.estadisticas_por_campus.filter(f=>{if(s&&f.campus_nombre.toUpperCase().includes("CID"))return!1;switch(e){case"legales":return f.tiene_fiscales;case"medicos":return f.tiene_medicos;default:return!0}}).filter((f,y,j)=>y===j.findIndex(b=>b.campus_id===f.campus_id)):[],m=l.filter(i=>i.porcentaje_cumplimiento<60).length,v=[...l].sort((i,u)=>i.campus_nombre.localeCompare(u.campus_nombre)),x=[...l].sort((i,u)=>i.campus_nombre.localeCompare(u.campus_nombre)),h=()=>{const i=v.length,u=35,f=400,y=1e3,j=150+i*u;return Math.min(Math.max(j,f),y)},A=()=>{const i=x.length,u=25,f=500,j=70+i*u;return Math.max(j,f)};return r.jsxs(He,{breadcrumbs:n,children:[r.jsx($e,{title:"Supervisión - Dashboard Global"}),r.jsxs("div",{className:"h-full w-full p-6 space-y-6",children:[r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6 mb-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100 mb-1",children:"Dashboard de Supervisión"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Monitoreo de documentos legales y médicos"})]}),r.jsxs("div",{className:"flex items-center gap-6",children:[r.jsxs("div",{className:"text-right",children:[r.jsx("div",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:l.length}),r.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Campus"})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("div",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:[a?.estadisticas_generales.cumplimiento_promedio||0,"%"]}),r.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Cumplimiento"})]}),r.jsx(Ve,{href:"/supervision",children:r.jsxs(B,{className:"bg-blue-600 hover:bg-blue-700 dark:bg-blue-500 dark:hover:bg-blue-600 text-white",children:[r.jsx(ge,{className:"w-4 h-4 mr-2"}),"Ver Semáforo"]})})]})]})}),a&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[r.jsxs(P,{className:"border-l-4 border-l-blue-500 dark:border-l-blue-400",children:[r.jsx(D,{className:"pb-3",children:r.jsxs(S,{className:"text-sm font-medium text-gray-600 dark:text-gray-400 flex items-center gap-2",children:[r.jsx(ne,{className:"w-4 h-4"}),"Total Documentos"]})}),r.jsxs(w,{children:[r.jsx("div",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100 mb-2",children:a.estadisticas_generales.total_documentos.toLocaleString()}),r.jsxs("div",{className:"flex items-center text-sm text-gray-600 dark:text-gray-400",children:[r.jsx(X,{className:"w-4 h-4 mr-1"}),"En ",l.length," campus"]})]})]}),r.jsxs(P,{className:"border-l-4 border-l-green-500 dark:border-l-green-400",children:[r.jsx(D,{className:"pb-3",children:r.jsxs(S,{className:"text-sm font-medium text-gray-600 dark:text-gray-400 flex items-center gap-2",children:[r.jsx(Ue,{className:"w-4 h-4"}),"Documentos Aprobados"]})}),r.jsxs(w,{children:[r.jsx("div",{className:"text-3xl font-bold text-green-600 dark:text-green-400 mb-2",children:a.estadisticas_generales.total_aprobados.toLocaleString()}),r.jsxs("div",{className:"flex items-center text-sm text-green-600 dark:text-green-400",children:[r.jsx(me,{className:"w-4 h-4 mr-1"}),a.estadisticas_generales.cumplimiento_promedio,"% cumplimiento"]})]})]}),r.jsxs(P,{className:"border-l-4 border-l-yellow-500 dark:border-l-yellow-400",children:[r.jsx(D,{className:"pb-3",children:r.jsxs(S,{className:"text-sm font-medium text-gray-600 dark:text-gray-400 flex items-center gap-2",children:[r.jsx(xe,{className:"w-4 h-4"}),"Pendientes"]})}),r.jsxs(w,{children:[r.jsx("div",{className:"text-3xl font-bold text-yellow-600 dark:text-yellow-400 mb-2",children:a.estadisticas_generales.total_pendientes.toLocaleString()}),r.jsxs("div",{className:"flex items-center text-sm text-yellow-600 dark:text-yellow-400",children:[r.jsx(xe,{className:"w-4 h-4 mr-1"}),"Requieren atención"]})]})]}),r.jsxs(P,{className:"border-l-4 border-l-red-500 dark:border-l-red-400",children:[r.jsx(D,{className:"pb-3",children:r.jsxs(S,{className:"text-sm font-medium text-gray-600 dark:text-gray-400 flex items-center gap-2",children:[r.jsx(he,{className:"w-4 h-4"}),"Campus Críticos"]})}),r.jsxs(w,{children:[r.jsx("div",{className:"text-3xl font-bold text-red-600 dark:text-red-400 mb-2",children:m}),r.jsxs("div",{className:"flex items-center text-sm text-red-600 dark:text-red-400",children:[r.jsx(he,{className:"w-4 h-4 mr-1"}),"Necesitan intervención"]})]})]})]}),a&&r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[r.jsx(P,{className:"lg:col-span-2 bg-gradient-to-r from-blue-50 to-purple-50 dark:from-blue-950 dark:to-purple-950 border-blue-200 dark:border-blue-800",children:r.jsx(w,{className:"pt-6",children:r.jsxs("div",{className:"flex items-center justify-between gap-4",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(q,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-gray-900 dark:text-gray-100",children:"Filtrar por Tipo de Documento"}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Selecciona qué documentos visualizar en las gráficas"})]})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs(B,{onClick:()=>t("general"),className:`${e==="general"?"bg-blue-600 hover:bg-blue-700 text-white":"bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 border border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700"}`,children:[r.jsx(X,{className:"w-4 h-4 mr-2"}),"General"]}),r.jsxs(B,{onClick:()=>t("legales"),className:`${e==="legales"?"bg-indigo-600 hover:bg-indigo-700 text-white":"bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 border border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700"}`,children:[r.jsx(ge,{className:"w-4 h-4 mr-2"}),"Legales"]}),r.jsxs(B,{onClick:()=>t("medicos"),className:`${e==="medicos"?"bg-green-600 hover:bg-green-700 text-white":"bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 border border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700"}`,children:[r.jsx(ne,{className:"w-4 h-4 mr-2"}),"Médicos"]}),r.jsx("div",{className:"mx-3 h-6 w-px bg-gray-300 dark:bg-gray-600"}),r.jsxs(B,{onClick:()=>o(!s),className:`${s?"bg-gray-600 hover:bg-gray-700 text-white":"bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 border border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700"}`,children:[r.jsx(ka,{className:"w-4 h-4 mr-2"}),s?"Incluir CID":"Excluir CID"]}),r.jsxs("div",{className:"ml-4 text-sm text-gray-600 dark:text-gray-400 bg-white dark:bg-gray-800 px-4 py-2 rounded-lg border border-gray-200 dark:border-gray-700",children:["Mostrando: ",r.jsx("span",{className:"font-bold text-blue-600 dark:text-blue-400",children:e==="general"?"Todos":e==="legales"?"Documentos Legales":"Documentos Médicos"})]})]})]})})}),r.jsxs(P,{className:"lg:col-span-2",children:[r.jsx(D,{children:r.jsxs(S,{className:"text-xl flex items-center gap-3",children:[r.jsx(q,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"}),"Cumplimiento por Campus",r.jsx(le,{className:"bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200 ml-2",children:e==="general"?"General":e==="legales"?"Legales":"Médicos"})]})}),r.jsx(w,{children:r.jsx("div",{style:{height:`${h()}px`},children:r.jsx(G,{width:"100%",height:"100%",children:r.jsxs(pe,{data:v.map(i=>{const u=e==="legales"?i.fiscales.aprobados:e==="medicos"?i.medicos.aprobados:i.total_aprobados,f=e==="legales"?i.fiscales.pendientes:e==="medicos"?i.medicos.pendientes:i.total_pendientes,y=e==="legales"?i.fiscales.total_documentos:e==="medicos"?i.medicos.total_documentos:i.total_documentos;return{nombre:i.campus_nombre.length>20?i.campus_nombre.substring(0,20)+"...":i.campus_nombre,aprobados:u,pendientes:f,total:y}}),layout:"horizontal",margin:{top:20,right:30,left:20,bottom:80},children:[r.jsx(J,{strokeDasharray:"3 3",stroke:"#e5e7eb",className:"dark:stroke-gray-700"}),r.jsx(Q,{dataKey:"nombre",tick:{fontSize:13,fill:"currentColor"},className:"text-gray-700 dark:text-gray-300",angle:-45,textAnchor:"end",height:80,interval:0}),r.jsx(Z,{type:"number",tick:{fontSize:12,fill:"currentColor"},className:"text-gray-700 dark:text-gray-300",domain:[0,"dataMax + 5"]}),r.jsx($,{contentStyle:{backgroundColor:"#f8fafc",border:"1px solid #e2e8f0",borderRadius:"8px",color:"#1f2937"},formatter:(i,u)=>[i,u==="aprobados"?"Aprobados":u==="pendientes"?"Pendientes":"Total"]}),r.jsx(V,{wrapperStyle:{color:"currentColor"},className:"text-gray-700 dark:text-gray-300"}),r.jsx(F,{dataKey:"aprobados",fill:"#10b981",name:"Aprobados",radius:[0,4,4,0]})]})})})})]}),r.jsxs(P,{children:[r.jsx(D,{children:r.jsxs(S,{className:"text-lg flex items-center gap-2",children:[r.jsx(X,{className:"w-5 h-5 text-green-600 dark:text-green-400"}),"Estados de Documentos"]})}),r.jsx(w,{children:r.jsx("div",{className:"h-64",children:r.jsx(G,{width:"100%",height:"100%",children:r.jsxs(ba,{children:[r.jsx(ya,{data:[{name:"Aprobados",value:e==="legales"?l.reduce((i,u)=>i+u.fiscales.aprobados,0):e==="medicos"?l.reduce((i,u)=>i+u.medicos.aprobados,0):a.estadisticas_generales.total_aprobados,color:"#10b981"},{name:"Pendientes",value:e==="legales"?l.reduce((i,u)=>i+u.fiscales.pendientes,0):e==="medicos"?l.reduce((i,u)=>i+u.medicos.pendientes,0):a.estadisticas_generales.total_pendientes,color:"#f59e0b"},{name:"Caducados",value:e==="legales"?l.reduce((i,u)=>i+u.fiscales.caducados,0):e==="medicos"?l.reduce((i,u)=>i+u.medicos.caducados,0):a.estadisticas_generales.total_caducados,color:"#f97316"},{name:"Rechazados",value:e==="legales"?l.reduce((i,u)=>i+u.fiscales.rechazados,0):e==="medicos"?l.reduce((i,u)=>i+u.medicos.rechazados,0):a.estadisticas_generales.total_rechazados,color:"#ef4444"}].filter(i=>i.value>0),cx:"50%",cy:"50%",innerRadius:40,outerRadius:80,paddingAngle:2,dataKey:"value",children:[{color:"#10b981"},{color:"#f59e0b"},{color:"#f97316"},{color:"#ef4444"}].map((i,u)=>r.jsx(va,{fill:i.color},`cell-${u}`))}),r.jsx($,{contentStyle:{backgroundColor:"#f8fafc",border:"1px solid #e2e8f0",borderRadius:"8px"},formatter:i=>[i.toLocaleString(),"Documentos"]}),r.jsx(V,{})]})})})})]}),r.jsxs(P,{children:[r.jsx(D,{children:r.jsxs(S,{className:"text-lg flex items-center gap-2",children:[r.jsx(me,{className:"w-5 h-5 text-purple-600 dark:text-purple-400"}),"Distribución por Tipo"]})}),r.jsx(w,{children:r.jsx("div",{style:{height:`${Math.max(400,h()*.5)}px`},children:r.jsx(G,{width:"100%",height:"100%",children:r.jsxs(tt,{data:v.map(i=>({campus:i.campus_nombre.substring(0,10)+"...",legales:i.fiscales.total_documentos,medicos:i.medicos.total_documentos})),margin:{top:10,right:30,left:0,bottom:100},children:[r.jsx(J,{strokeDasharray:"3 3",stroke:"#e5e7eb",className:"dark:stroke-gray-700"}),r.jsx(Q,{dataKey:"campus",tick:{fontSize:11,fill:"currentColor"},className:"text-gray-700 dark:text-gray-300",angle:-45,textAnchor:"end",height:80,interval:0}),r.jsx(Z,{tick:{fontSize:12,fill:"currentColor"},className:"text-gray-700 dark:text-gray-300"}),r.jsx($,{contentStyle:{backgroundColor:"#f8fafc",border:"1px solid #e2e8f0",borderRadius:"8px",color:"#1f2937"},formatter:(i,u)=>[i,u==="legales"?"Docs Legales":"Docs Médicos"]}),r.jsx(ae,{type:"monotone",dataKey:"legales",stackId:"1",stroke:"#3b82f6",fill:"#3b82f6",fillOpacity:.6}),r.jsx(ae,{type:"monotone",dataKey:"medicos",stackId:"1",stroke:"#10b981",fill:"#10b981",fillOpacity:.6}),r.jsx(V,{})]})})})})]}),r.jsxs(P,{className:"lg:col-span-2",children:[r.jsx(D,{children:r.jsxs(S,{className:"text-xl flex items-center gap-3",children:[r.jsx(q,{className:"w-6 h-6 text-indigo-600 dark:text-indigo-400"}),"Análisis Detallado por Campus",r.jsx(le,{className:"bg-indigo-100 dark:bg-indigo-900 text-indigo-800 dark:text-indigo-200 ml-2",children:e==="general"?"General":e==="legales"?"Legales":"Médicos"})]})}),r.jsx(w,{children:r.jsx("div",{style:{height:`${A()}px`},children:r.jsx(G,{width:"100%",height:"100%",children:r.jsxs(pe,{data:x.map(i=>({nombre:i.campus_nombre.length>25?i.campus_nombre.substring(0,25)+"...":i.campus_nombre,aprobados:e==="legales"?i.fiscales.aprobados:e==="medicos"?i.medicos.aprobados:i.total_aprobados,pendientes:e==="legales"?i.fiscales.pendientes:e==="medicos"?i.medicos.pendientes:i.total_pendientes,caducados:e==="legales"?i.fiscales.caducados:e==="medicos"?i.medicos.caducados:i.total_caducados,rechazados:e==="legales"?i.fiscales.rechazados:e==="medicos"?i.medicos.rechazados:i.total_rechazados})),layout:"vertical",margin:{top:15,right:30,left:120,bottom:15},children:[r.jsx(J,{strokeDasharray:"3 3",stroke:"#e5e7eb",className:"dark:stroke-gray-700"}),r.jsx(Q,{type:"number",tick:{fontSize:13,fill:"currentColor"},className:"text-gray-700 dark:text-gray-300"}),r.jsx(Z,{type:"category",dataKey:"nombre",tick:{fontSize:13,fill:"currentColor"},className:"text-gray-700 dark:text-gray-300",width:180}),r.jsx($,{contentStyle:{backgroundColor:"#f8fafc",border:"1px solid #e2e8f0",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)",color:"#1f2937"},formatter:(i,u,f)=>{const y=f.payload,j=Number(i),b=Number(y.aprobados)+Number(y.pendientes)+Number(y.caducados)+Number(y.rechazados),k=b>0?(j/b*100).toFixed(1):"0",g=u||(f.dataKey==="aprobados"?"Aprobados":f.dataKey==="pendientes"?"Pendientes":f.dataKey==="caducados"?"Caducados":"Rechazados");return[`${i} documentos (${k}%)`,g]},labelFormatter:i=>`Campus: ${i}`,itemSorter:i=>["aprobados","pendientes","caducados","rechazados"].indexOf(String(i.dataKey||""))}),r.jsx(V,{wrapperStyle:{color:"currentColor"},className:"text-gray-700 dark:text-gray-300"}),r.jsx(F,{dataKey:"aprobados",stackId:"a",fill:"#10b981",name:"Aprobados"}),r.jsx(F,{dataKey:"pendientes",stackId:"a",fill:"#f59e0b",name:"Pendientes"}),r.jsx(F,{dataKey:"caducados",stackId:"a",fill:"#f97316",name:"Caducados"}),r.jsx(F,{dataKey:"rechazados",stackId:"a",fill:"#ef4444",name:"Rechazados"})]})})})})]})]})]})]})]})}export{bt as default};
