import{a as c,u as Re,j as s,H as Me,L as We}from"./app-CJIf_c-i.js";import{A as Be,q as se}from"./app-layout-cOPLsyxp.js";import{C,a as _,b as D,c as I}from"./card-L25ma51A.js";import{d as ee,B as Fe}from"./button-CX6Cz5g4.js";import{c as Ge}from"./createLucideIcon-DeAiqiFC.js";import{F as Ve,C as $e}from"./file-text-B-Y-4Pym.js";import{f as ve,s as ae,u as ye,g as He,h as Xe,i as be,j as je,k as z,l as te,m as re,n as ke,o as Ne,p as Ue,q as ie,r as Ye,t as Ae,v as ne,w as qe,x as Pe,y as Ce,z as Je,S as Qe,A as Ze,D as ea,E as aa,G as ta,F as Ie,H as ra,I as sa,J as ia,K as na,M as we,N as la,O as le,Q as oe,U as R,V as oa,W as ca,Z as T,_ as da,$ as ua,a0 as ma,a1 as X,a2 as pa,a3 as $,a4 as xa,a5 as ha,e as ce,d as U,R as F,B as de,b as Y,X as q,Y as J,T as G,L as V,c as W,P as fa,a as ga,C as va}from"./PieChart-fwwQm4rg.js";import{C as ue}from"./clock-CD5lwAth.js";import{T as me}from"./triangle-alert-DUBPx55L.js";/* empty css            */import"./index-9JN6S2fU.js";import"./index-Ccf17Bk1.js";import"./index-u1-Hf6Gb.js";import"./index-DW9AIAM8.js";import"./log-out-BJRPjkud.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ya=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],ba=Ge("Shield",ya);function Q(){return Q=Object.assign?Object.assign.bind():function(a){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(a[r]=t[r])}return a},Q.apply(null,arguments)}var Ee=a=>{var{cx:e,cy:t,r,className:l}=a,n=ee("recharts-dot",l);return e===+e&&t===+t&&r===+r?c.createElement("circle",Q({},ae(a),ve(a),{className:n,cx:e,cy:t,r})):null};function pe(a,e){var t=Object.keys(a);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(a);e&&(r=r.filter(function(l){return Object.getOwnPropertyDescriptor(a,l).enumerable})),t.push.apply(t,r)}return t}function xe(a){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?pe(Object(t),!0).forEach(function(r){ja(a,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(t)):pe(Object(t)).forEach(function(r){Object.defineProperty(a,r,Object.getOwnPropertyDescriptor(t,r))})}return a}function ja(a,e,t){return(e=ka(e))in a?Object.defineProperty(a,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):a[e]=t,a}function ka(a){var e=Na(a,"string");return typeof e=="symbol"?e:e+""}function Na(a,e){if(typeof a!="object"||!a)return a;var t=a[Symbol.toPrimitive];if(t!==void 0){var r=t.call(a,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(a)}var Aa=a=>{var{point:e,childIndex:t,mainColor:r,activeDot:l,dataKey:n}=a;if(l===!1||e.x==null||e.y==null)return null;var d=xe(xe({index:t,dataKey:n,cx:e.x,cy:e.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:e.payload,value:e.value},je(l)),ve(l)),o;return c.isValidElement(l)?o=c.cloneElement(l,d):typeof l=="function"?o=l(d):o=c.createElement(Ee,d),c.createElement(z,{className:"recharts-active-dot"},o)};function he(a){var{points:e,mainColor:t,activeDot:r,itemDataKey:l}=a,n=ye(He),d=Xe();if(e==null||d==null)return null;var o=e.find(u=>d.includes(u.payload));return be(o)?null:Aa({point:o,childIndex:Number(n),mainColor:t,dataKey:l,activeDot:r})}function Pa(a){var e=je(a),t=3,r=2;if(e!=null){var{r:l,strokeWidth:n}=e,d=Number(l),o=Number(n);return(Number.isNaN(d)||d<0)&&(d=t),(Number.isNaN(o)||o<0)&&(o=r),{r:d,strokeWidth:o}}return{r:t,strokeWidth:r}}var Se=(a,e,t,r)=>ke(a,"xAxis",e,r),_e=(a,e,t,r)=>Ne(a,"xAxis",e,r),De=(a,e,t,r)=>ke(a,"yAxis",t,r),Oe=(a,e,t,r)=>Ne(a,"yAxis",t,r),Ca=te([re,Se,De,_e,Oe],(a,e,t,r,l)=>Ae(a,"xAxis")?ne(e,r,!1):ne(t,l,!1)),Ia=(a,e,t,r,l)=>l,Le=te([qe,Ia],(a,e)=>a.filter(t=>t.type==="area").find(t=>t.id===e)),wa=(a,e,t,r,l)=>{var n,d=Le(a,e,t,r,l);if(d!=null){var o=re(a),u=Ae(o,"xAxis"),p;if(u?p=ie(a,"yAxis",t,r):p=ie(a,"xAxis",e,r),p!=null){var{stackId:f}=d,v=Ye(d);if(!(f==null||v==null)){var i=(n=p[f])===null||n===void 0?void 0:n.stackedData;return i?.find(m=>m.key===v)}}}},Ea=te([re,Se,De,_e,Oe,wa,Ue,Ca,Le],(a,e,t,r,l,n,d,o,u)=>{var{chartData:p,dataStartIndex:f,dataEndIndex:v}=d;if(!(u==null||a!=="horizontal"&&a!=="vertical"||e==null||t==null||r==null||l==null||r.length===0||l.length===0||o==null)){var{data:i}=u,m;if(i&&i.length>0?m=i:m=p?.slice(f,v+1),m!=null){var x=void 0;return qa({layout:a,xAxis:e,yAxis:t,xAxisTicks:r,yAxisTicks:l,dataStartIndex:f,areaSettings:u,stackedData:n,displayedData:m,chartBaseValue:x,bandSize:o})}}}),Sa=["id"],_a=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function Ke(a,e){if(a==null)return{};var t,r,l=Da(a,e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(a);for(r=0;r<n.length;r++)t=n[r],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(a,t)&&(l[t]=a[t])}return l}function Da(a,e){if(a==null)return{};var t={};for(var r in a)if({}.hasOwnProperty.call(a,r)){if(e.indexOf(r)!==-1)continue;t[r]=a[r]}return t}function fe(a,e){var t=Object.keys(a);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(a);e&&(r=r.filter(function(l){return Object.getOwnPropertyDescriptor(a,l).enumerable})),t.push.apply(t,r)}return t}function w(a){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?fe(Object(t),!0).forEach(function(r){Oa(a,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(t)):fe(Object(t)).forEach(function(r){Object.defineProperty(a,r,Object.getOwnPropertyDescriptor(t,r))})}return a}function Oa(a,e,t){return(e=La(e))in a?Object.defineProperty(a,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):a[e]=t,a}function La(a){var e=Ka(a,"string");return typeof e=="symbol"?e:e+""}function Ka(a,e){if(typeof a!="object"||!a)return a;var t=a[Symbol.toPrimitive];if(t!==void 0){var r=t.call(a,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(a)}function E(){return E=Object.assign?Object.assign.bind():function(a){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(a[r]=t[r])}return a},E.apply(null,arguments)}function H(a,e){return a&&a!=="none"?a:e}var Ta=a=>{var{dataKey:e,name:t,stroke:r,fill:l,legendType:n,hide:d}=a;return[{inactive:d,dataKey:e,type:n,color:H(r,l),value:Ie(t,e),payload:a}]};function za(a){var{dataKey:e,data:t,stroke:r,strokeWidth:l,fill:n,name:d,hide:o,unit:u}=a;return{dataDefinedOnItem:t,positions:void 0,settings:{stroke:r,strokeWidth:l,fill:n,dataKey:e,nameKey:void 0,name:Ie(d,e),hide:o,type:a.tooltipType,color:H(r,n),unit:u}}}var Ra=(a,e)=>{var t;if(c.isValidElement(a))t=c.cloneElement(a,e);else if(typeof a=="function")t=a(e);else{var r=ee("recharts-area-dot",typeof a!="boolean"?a.className:"");t=c.createElement(Ee,E({},e,{className:r}))}return t};function Ma(a,e){return a==null?!1:e?!0:a.length===1}function Wa(a){var{clipPathId:e,points:t,props:r}=a,{needClip:l,dot:n,dataKey:d}=r;if(!Ma(t,n))return null;var o=we(n),u=ae(r),p=pa(n),f=t.map((i,m)=>{var x=w(w(w({key:"dot-".concat(m),r:3},u),p),{},{index:m,cx:i.x,cy:i.y,dataKey:d,value:i.value,payload:i.payload,points:t});return Ra(n,x)}),v={clipPath:l?"url(#clipPath-".concat(o?"":"dots-").concat(e,")"):void 0};return c.createElement(z,E({className:"recharts-area-dots"},v),f)}function Ba(a){var{showLabels:e,children:t,points:r}=a,l=r.map(n=>{var d={x:n.x,y:n.y,width:0,height:0};return w(w({},d),{},{value:n.value,payload:n.payload,parentViewBox:void 0,viewBox:d,fill:void 0})});return c.createElement(ma,{value:e?l:null},t)}function ge(a){var{points:e,baseLine:t,needClip:r,clipPathId:l,props:n}=a,{layout:d,type:o,stroke:u,connectNulls:p,isRange:f}=n,{id:v}=n,i=Ke(n,Sa),m=ae(i);return c.createElement(c.Fragment,null,e?.length>1&&c.createElement(z,{clipPath:r?"url(#clipPath-".concat(l,")"):void 0},c.createElement(X,E({},m,{id:v,points:e,connectNulls:p,type:o,baseLine:t,layout:d,stroke:"none",className:"recharts-area-area"})),u!=="none"&&c.createElement(X,E({},m,{className:"recharts-area-curve",layout:d,type:o,connectNulls:p,fill:"none",points:e})),u!=="none"&&f&&c.createElement(X,E({},m,{className:"recharts-area-curve",layout:d,type:o,connectNulls:p,fill:"none",points:t}))),c.createElement(Wa,{points:e,props:i,clipPathId:l}))}function Fa(a){var{alpha:e,baseLine:t,points:r,strokeWidth:l}=a,n=r[0].y,d=r[r.length-1].y;if(!$(n)||!$(d))return null;var o=e*Math.abs(n-d),u=Math.max(...r.map(p=>p.x||0));return R(t)?u=Math.max(t,u):t&&Array.isArray(t)&&t.length&&(u=Math.max(...t.map(p=>p.x||0),u)),R(u)?c.createElement("rect",{x:0,y:n<d?n:n-o,width:u+(l?parseInt("".concat(l),10):1),height:Math.floor(o)}):null}function Ga(a){var{alpha:e,baseLine:t,points:r,strokeWidth:l}=a,n=r[0].x,d=r[r.length-1].x;if(!$(n)||!$(d))return null;var o=e*Math.abs(n-d),u=Math.max(...r.map(p=>p.y||0));return R(t)?u=Math.max(t,u):t&&Array.isArray(t)&&t.length&&(u=Math.max(...t.map(p=>p.y||0),u)),R(u)?c.createElement("rect",{x:n<d?n:n-o,y:0,width:o,height:Math.floor(u+(l?parseInt("".concat(l),10):1))}):null}function Va(a){var{alpha:e,layout:t,points:r,baseLine:l,strokeWidth:n}=a;return t==="vertical"?c.createElement(Fa,{alpha:e,points:r,baseLine:l,strokeWidth:n}):c.createElement(Ga,{alpha:e,points:r,baseLine:l,strokeWidth:n})}function $a(a){var{needClip:e,clipPathId:t,props:r,previousPointsRef:l,previousBaselineRef:n}=a,{points:d,baseLine:o,isAnimationActive:u,animationBegin:p,animationDuration:f,animationEasing:v,onAnimationStart:i,onAnimationEnd:m}=r,x=oa(r,"recharts-area-"),[y,b]=c.useState(!1),N=!y,A=c.useCallback(()=>{typeof m=="function"&&m(),b(!1)},[m]),k=c.useCallback(()=>{typeof i=="function"&&i(),b(!0)},[i]),g=l.current,j=n.current;return c.createElement(Ba,{showLabels:N,points:d},r.children,c.createElement(ca,{animationId:x,begin:p,duration:f,isActive:u,easing:v,onAnimationEnd:A,onAnimationStart:k,key:x},h=>{if(g){var O=g.length/d.length,B=h===1?d:d.map((P,M)=>{var L=Math.floor(M*O);if(g[L]){var K=g[L];return w(w({},P),{},{x:T(K.x,P.x,h),y:T(K.y,P.y,h)})}return P}),S;return R(o)?S=T(j,o,h):be(o)||da(o)?S=T(j,0,h):S=o.map((P,M)=>{var L=Math.floor(M*O);if(Array.isArray(j)&&j[L]){var K=j[L];return w(w({},P),{},{x:T(K.x,P.x,h),y:T(K.y,P.y,h)})}return P}),h>0&&(l.current=B,n.current=S),c.createElement(ge,{points:B,baseLine:S,needClip:e,clipPathId:t,props:r})}return h>0&&(l.current=d,n.current=o),c.createElement(z,null,u&&c.createElement("defs",null,c.createElement("clipPath",{id:"animationClipPath-".concat(t)},c.createElement(Va,{alpha:h,points:d,baseLine:o,layout:r.layout,strokeWidth:r.strokeWidth}))),c.createElement(z,{clipPath:"url(#animationClipPath-".concat(t,")")},c.createElement(ge,{points:d,baseLine:o,needClip:e,clipPathId:t,props:r})))}),c.createElement(ua,{label:r.label}))}function Ha(a){var{needClip:e,clipPathId:t,props:r}=a,l=c.useRef(null),n=c.useRef();return c.createElement($a,{needClip:e,clipPathId:t,props:r,previousPointsRef:l,previousBaselineRef:n})}class Xa extends c.PureComponent{render(){var{hide:e,dot:t,points:r,className:l,top:n,left:d,needClip:o,xAxisId:u,yAxisId:p,width:f,height:v,id:i,baseLine:m}=this.props;if(e)return null;var x=ee("recharts-area",l),y=i,{r:b,strokeWidth:N}=Pa(t),A=we(t),k=b*2+N;return c.createElement(c.Fragment,null,c.createElement(z,{className:x},o&&c.createElement("defs",null,c.createElement(la,{clipPathId:y,xAxisId:u,yAxisId:p}),!A&&c.createElement("clipPath",{id:"clipPath-dots-".concat(y)},c.createElement("rect",{x:d-k/2,y:n-k/2,width:f+k,height:v+k}))),c.createElement(Ha,{needClip:o,clipPathId:y,props:this.props})),c.createElement(he,{points:r,mainColor:H(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}),this.props.isRange&&Array.isArray(m)&&c.createElement(he,{points:m,mainColor:H(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}))}}var Te={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:!ta.isSsr,legendType:"line",stroke:"#3182bd",xAxisId:0,yAxisId:0};function Ua(a){var e,t=Pe(a,Te),{activeDot:r,animationBegin:l,animationDuration:n,animationEasing:d,connectNulls:o,dot:u,fill:p,fillOpacity:f,hide:v,isAnimationActive:i,legendType:m,stroke:x,xAxisId:y,yAxisId:b}=t,N=Ke(t,_a),A=ra(),k=sa(),{needClip:g}=ia(y,b),j=Ce(),{points:h,isRange:O,baseLine:B}=(e=ye(ze=>Ea(ze,y,b,j,a.id)))!==null&&e!==void 0?e:{},S=na();if(A!=="horizontal"&&A!=="vertical"||S==null||k!=="AreaChart"&&k!=="ComposedChart")return null;var{height:P,width:M,x:L,y:K}=S;return!h||!h.length?null:c.createElement(Xa,E({},N,{activeDot:r,animationBegin:l,animationDuration:n,animationEasing:d,baseLine:B,connectNulls:o,dot:u,fill:p,fillOpacity:f,height:P,hide:v,layout:A,isAnimationActive:i,isRange:O,legendType:m,needClip:g,points:h,stroke:x,width:M,left:L,top:K,xAxisId:y,yAxisId:b}))}var Ya=(a,e,t,r,l)=>{var n=t??e;if(R(n))return n;var d=a==="horizontal"?l:r,o=d.scale.domain();if(d.type==="number"){var u=Math.max(o[0],o[1]),p=Math.min(o[0],o[1]);return n==="dataMin"?p:n==="dataMax"||u<0?u:Math.max(Math.min(o[0],o[1]),0)}return n==="dataMin"?o[0]:n==="dataMax"?o[1]:o[0]};function qa(a){var{areaSettings:{connectNulls:e,baseValue:t,dataKey:r},stackedData:l,layout:n,chartBaseValue:d,xAxis:o,yAxis:u,displayedData:p,dataStartIndex:f,xAxisTicks:v,yAxisTicks:i,bandSize:m}=a,x=l&&l.length,y=Ya(n,d,t,o,u),b=n==="horizontal",N=!1,A=p.map((g,j)=>{var h;x?h=l[f+j]:(h=le(g,r),Array.isArray(h)?N=!0:h=[y,h]);var O=h[1]==null||x&&!e&&le(g,r)==null;return b?{x:oe({axis:o,ticks:v,bandSize:m,entry:g,index:j}),y:O?null:u.scale(h[1]),value:h,payload:g}:{x:O?null:o.scale(h[1]),y:oe({axis:u,ticks:i,bandSize:m,entry:g,index:j}),value:h,payload:g}}),k;return x||N?k=A.map(g=>{var j=Array.isArray(g.value)?g.value[0]:null;return b?{x:g.x,y:j!=null&&g.y!=null?u.scale(j):null,payload:g.payload}:{x:j!=null?o.scale(j):null,y:g.y,payload:g.payload}}):k=b?u.scale(y):o.scale(y),{points:A,baseLine:k,isRange:N}}function Ja(a){var e=Pe(a,Te),t=Ce();return c.createElement(Je,{id:e.id,type:"area"},r=>c.createElement(c.Fragment,null,c.createElement(Qe,{legendPayload:Ta(e)}),c.createElement(Ze,{fn:za,args:e}),c.createElement(ea,{type:"area",id:r,data:e.data,dataKey:e.dataKey,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,stackId:aa(e.stackId),hide:e.hide,barSize:void 0,baseValue:e.baseValue,isPanorama:t,connectNulls:e.connectNulls}),c.createElement(Ua,E({},e,{id:r}))))}var Z=c.memo(Ja);Z.displayName="Area";var Qa=["axis"],Za=c.forwardRef((a,e)=>c.createElement(xa,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Qa,tooltipPayloadSearcher:ha,categoricalChartProps:a,ref:e}));function ht(){const{datosSupervision:a}=Re().props,[e,t]=c.useState("general"),[r,l]=c.useState(10),n=[{title:"Dashboard",href:"/"}],o=a?a.estadisticas_por_campus.filter(x=>{switch(e){case"legales":return x.tiene_fiscales;case"medicos":return x.tiene_medicos;default:return!0}}).filter((x,y,b)=>y===b.findIndex(N=>N.campus_id===x.campus_id)):[],u=o.filter(i=>i.porcentaje_cumplimiento<60).length,f=(()=>{const i=[...o].sort((m,x)=>m.campus_nombre.localeCompare(x.campus_nombre));return r===-1?i:i.slice(0,r)})(),v=()=>{const i=f.length;return i<=10?500:i<=20?700:i<=30?900:1400};return s.jsxs(Be,{breadcrumbs:n,children:[s.jsx(Me,{title:"Supervisión - Dashboard Global"}),s.jsxs("div",{className:"h-full w-full p-6 space-y-6",children:[s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6 mb-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100 mb-1",children:"Dashboard de Supervisión"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Monitoreo de documentos legales y médicos"})]}),s.jsxs("div",{className:"flex items-center gap-6",children:[s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:o.length}),s.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Campus"})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:[a?.estadisticas_generales.cumplimiento_promedio||0,"%"]}),s.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Cumplimiento"})]}),s.jsx(We,{href:"/supervision",children:s.jsxs(Fe,{className:"bg-blue-600 hover:bg-blue-700 dark:bg-blue-500 dark:hover:bg-blue-600 text-white",children:[s.jsx(ba,{className:"w-4 h-4 mr-2"}),"Ver Semáforo"]})})]})]})}),a&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[s.jsxs(C,{className:"border-l-4 border-l-blue-500 dark:border-l-blue-400",children:[s.jsx(_,{className:"pb-3",children:s.jsxs(D,{className:"text-sm font-medium text-gray-600 dark:text-gray-400 flex items-center gap-2",children:[s.jsx(Ve,{className:"w-4 h-4"}),"Total Documentos"]})}),s.jsxs(I,{children:[s.jsx("div",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100 mb-2",children:a.estadisticas_generales.total_documentos.toLocaleString()}),s.jsxs("div",{className:"flex items-center text-sm text-gray-600 dark:text-gray-400",children:[s.jsx(se,{className:"w-4 h-4 mr-1"}),"En ",o.length," campus"]})]})]}),s.jsxs(C,{className:"border-l-4 border-l-green-500 dark:border-l-green-400",children:[s.jsx(_,{className:"pb-3",children:s.jsxs(D,{className:"text-sm font-medium text-gray-600 dark:text-gray-400 flex items-center gap-2",children:[s.jsx($e,{className:"w-4 h-4"}),"Documentos Aprobados"]})}),s.jsxs(I,{children:[s.jsx("div",{className:"text-3xl font-bold text-green-600 dark:text-green-400 mb-2",children:a.estadisticas_generales.total_aprobados.toLocaleString()}),s.jsxs("div",{className:"flex items-center text-sm text-green-600 dark:text-green-400",children:[s.jsx(ce,{className:"w-4 h-4 mr-1"}),a.estadisticas_generales.cumplimiento_promedio,"% cumplimiento"]})]})]}),s.jsxs(C,{className:"border-l-4 border-l-yellow-500 dark:border-l-yellow-400",children:[s.jsx(_,{className:"pb-3",children:s.jsxs(D,{className:"text-sm font-medium text-gray-600 dark:text-gray-400 flex items-center gap-2",children:[s.jsx(ue,{className:"w-4 h-4"}),"Pendientes"]})}),s.jsxs(I,{children:[s.jsx("div",{className:"text-3xl font-bold text-yellow-600 dark:text-yellow-400 mb-2",children:a.estadisticas_generales.total_pendientes.toLocaleString()}),s.jsxs("div",{className:"flex items-center text-sm text-yellow-600 dark:text-yellow-400",children:[s.jsx(ue,{className:"w-4 h-4 mr-1"}),"Requieren atención"]})]})]}),s.jsxs(C,{className:"border-l-4 border-l-red-500 dark:border-l-red-400",children:[s.jsx(_,{className:"pb-3",children:s.jsxs(D,{className:"text-sm font-medium text-gray-600 dark:text-gray-400 flex items-center gap-2",children:[s.jsx(me,{className:"w-4 h-4"}),"Campus Críticos"]})}),s.jsxs(I,{children:[s.jsx("div",{className:"text-3xl font-bold text-red-600 dark:text-red-400 mb-2",children:u}),s.jsxs("div",{className:"flex items-center text-sm text-red-600 dark:text-red-400",children:[s.jsx(me,{className:"w-4 h-4 mr-1"}),"Necesitan intervención"]})]})]})]}),a&&s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[s.jsx(C,{className:"lg:col-span-2 bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-950 dark:to-indigo-950 border-blue-200 dark:border-blue-800",children:s.jsx(I,{className:"pt-6",children:s.jsxs("div",{className:"flex items-center justify-between gap-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(U,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-900 dark:text-gray-100",children:"Visualización de Gráficas"}),s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Selecciona cuántos campus mostrar"})]})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Mostrar:"}),s.jsxs("select",{value:r,onChange:i=>l(Number(i.target.value)),className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400 focus:border-blue-500 dark:focus:border-blue-400 text-sm font-medium",children:[s.jsx("option",{value:10,children:"10 Campus"}),s.jsx("option",{value:20,children:"20 Campus"}),s.jsx("option",{value:30,children:"30 Campus"}),s.jsxs("option",{value:-1,children:["Todos (",o.length,")"]})]}),s.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400 bg-white dark:bg-gray-800 px-3 py-2 rounded-lg border border-gray-200 dark:border-gray-700",children:["Mostrando: ",s.jsx("span",{className:"font-bold text-blue-600 dark:text-blue-400",children:f.length})," de ",o.length]})]})]})})}),s.jsxs(C,{className:"lg:col-span-2",children:[s.jsx(_,{children:s.jsxs(D,{className:"text-xl flex items-center gap-3",children:[s.jsx(U,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"}),"Cumplimiento por Campus"]})}),s.jsx(I,{children:s.jsx("div",{style:{height:`${v()}px`},children:s.jsx(F,{width:"100%",height:"100%",children:s.jsxs(de,{data:f.map(i=>({nombre:i.campus_nombre.length>15?i.campus_nombre.substring(0,15)+"...":i.campus_nombre,aprobados:e==="legales"?i.fiscales.aprobados:e==="medicos"?i.medicos.aprobados:i.total_aprobados,pendientes:e==="legales"?i.fiscales.pendientes:e==="medicos"?i.medicos.pendientes:i.total_pendientes,total:e==="legales"?i.fiscales.total_documentos:e==="medicos"?i.medicos.total_documentos:i.total_documentos})),margin:{top:20,right:30,left:20,bottom:120},children:[s.jsx(Y,{strokeDasharray:"3 3",stroke:"#e5e7eb",className:"dark:stroke-gray-700"}),s.jsx(q,{dataKey:"nombre",tick:{fontSize:11,fill:"currentColor"},className:"text-gray-700 dark:text-gray-300",angle:-45,textAnchor:"end",height:100,interval:0}),s.jsx(J,{tick:{fontSize:12,fill:"currentColor"},className:"text-gray-700 dark:text-gray-300"}),s.jsx(G,{contentStyle:{backgroundColor:"#f8fafc",border:"1px solid #e2e8f0",borderRadius:"8px",color:"#1f2937"},formatter:(i,m)=>[i,m==="aprobados"?"Aprobados":m==="pendientes"?"Pendientes":"Total"]}),s.jsx(V,{wrapperStyle:{color:"currentColor"},className:"text-gray-700 dark:text-gray-300"}),s.jsx(W,{dataKey:"aprobados",fill:"#10b981",name:"Aprobados",radius:[4,4,0,0]})]})})})})]}),s.jsxs(C,{children:[s.jsx(_,{children:s.jsxs(D,{className:"text-lg flex items-center gap-2",children:[s.jsx(se,{className:"w-5 h-5 text-green-600 dark:text-green-400"}),"Estados de Documentos"]})}),s.jsx(I,{children:s.jsx("div",{className:"h-64",children:s.jsx(F,{width:"100%",height:"100%",children:s.jsxs(fa,{children:[s.jsx(ga,{data:[{name:"Aprobados",value:a.estadisticas_generales.total_aprobados,color:"#10b981"},{name:"Pendientes",value:a.estadisticas_generales.total_pendientes,color:"#f59e0b"},{name:"Caducados",value:a.estadisticas_generales.total_caducados,color:"#f97316"},{name:"Rechazados",value:a.estadisticas_generales.total_rechazados,color:"#ef4444"}].filter(i=>i.value>0),cx:"50%",cy:"50%",innerRadius:40,outerRadius:80,paddingAngle:2,dataKey:"value",children:[{color:"#10b981"},{color:"#f59e0b"},{color:"#f97316"},{color:"#ef4444"}].map((i,m)=>s.jsx(va,{fill:i.color},`cell-${m}`))}),s.jsx(G,{contentStyle:{backgroundColor:"#f8fafc",border:"1px solid #e2e8f0",borderRadius:"8px"},formatter:i=>[i.toLocaleString(),"Documentos"]}),s.jsx(V,{})]})})})})]}),s.jsxs(C,{children:[s.jsx(_,{children:s.jsxs(D,{className:"text-lg flex items-center gap-2",children:[s.jsx(ce,{className:"w-5 h-5 text-purple-600 dark:text-purple-400"}),"Distribución por Tipo"]})}),s.jsx(I,{children:s.jsx("div",{style:{height:`${Math.max(400,v()*.5)}px`},children:s.jsx(F,{width:"100%",height:"100%",children:s.jsxs(Za,{data:f.map(i=>({campus:i.campus_nombre.substring(0,10)+"...",legales:i.fiscales.total_documentos,medicos:i.medicos.total_documentos})),margin:{top:10,right:30,left:0,bottom:100},children:[s.jsx(Y,{strokeDasharray:"3 3",stroke:"#e5e7eb",className:"dark:stroke-gray-700"}),s.jsx(q,{dataKey:"campus",tick:{fontSize:10,fill:"currentColor"},className:"text-gray-700 dark:text-gray-300",angle:-45,textAnchor:"end",height:80,interval:0}),s.jsx(J,{tick:{fontSize:11,fill:"currentColor"},className:"text-gray-700 dark:text-gray-300"}),s.jsx(G,{contentStyle:{backgroundColor:"#f8fafc",border:"1px solid #e2e8f0",borderRadius:"8px",color:"#1f2937"},formatter:(i,m)=>[i,m==="legales"?"Docs Legales":"Docs Médicos"]}),s.jsx(Z,{type:"monotone",dataKey:"legales",stackId:"1",stroke:"#3b82f6",fill:"#3b82f6",fillOpacity:.6}),s.jsx(Z,{type:"monotone",dataKey:"medicos",stackId:"1",stroke:"#10b981",fill:"#10b981",fillOpacity:.6}),s.jsx(V,{})]})})})})]}),s.jsxs(C,{className:"lg:col-span-2",children:[s.jsx(_,{children:s.jsxs(D,{className:"text-xl flex items-center gap-3",children:[s.jsx(U,{className:"w-6 h-6 text-indigo-600 dark:text-indigo-400"}),"Análisis Detallado por Campus"]})}),s.jsx(I,{children:s.jsx("div",{style:{height:`${v()}px`},children:s.jsx(F,{width:"100%",height:"100%",children:s.jsxs(de,{data:f.map(i=>({nombre:i.campus_nombre.length>12?i.campus_nombre.substring(0,12)+"...":i.campus_nombre,aprobados:e==="legales"?i.fiscales.aprobados:e==="medicos"?i.medicos.aprobados:i.total_aprobados,pendientes:e==="legales"?i.fiscales.pendientes:e==="medicos"?i.medicos.pendientes:i.total_pendientes,caducados:e==="legales"?i.fiscales.caducados:e==="medicos"?i.medicos.caducados:i.total_caducados,rechazados:e==="legales"?i.fiscales.rechazados:e==="medicos"?i.medicos.rechazados:i.total_rechazados})),margin:{top:20,right:30,left:20,bottom:120},children:[s.jsx(Y,{strokeDasharray:"3 3",stroke:"#e5e7eb",className:"dark:stroke-gray-700"}),s.jsx(q,{dataKey:"nombre",tick:{fontSize:10,fill:"currentColor"},className:"text-gray-700 dark:text-gray-300",angle:-45,textAnchor:"end",height:100,interval:0}),s.jsx(J,{tick:{fontSize:11,fill:"currentColor"},className:"text-gray-700 dark:text-gray-300"}),s.jsx(G,{contentStyle:{backgroundColor:"#f8fafc",border:"1px solid #e2e8f0",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)",color:"#1f2937"},formatter:(i,m,x)=>{const y=x.payload,b=Number(i),N=Number(y.aprobados)+Number(y.pendientes)+Number(y.caducados)+Number(y.rechazados),A=N>0?(b/N*100).toFixed(1):"0",k=m||(x.dataKey==="aprobados"?"Aprobados":x.dataKey==="pendientes"?"Pendientes":x.dataKey==="caducados"?"Caducados":"Rechazados");return[`${i} documentos (${A}%)`,k]},labelFormatter:i=>`Campus: ${i}`,itemSorter:i=>["aprobados","pendientes","caducados","rechazados"].indexOf(String(i.dataKey||""))}),s.jsx(V,{wrapperStyle:{color:"currentColor"},className:"text-gray-700 dark:text-gray-300"}),s.jsx(W,{dataKey:"aprobados",stackId:"a",fill:"#10b981",name:"Aprobados"}),s.jsx(W,{dataKey:"pendientes",stackId:"a",fill:"#f59e0b",name:"Pendientes"}),s.jsx(W,{dataKey:"caducados",stackId:"a",fill:"#f97316",name:"Caducados"}),s.jsx(W,{dataKey:"rechazados",stackId:"a",fill:"#ef4444",name:"Rechazados"})]})})})})]})]})]})]})]})}export{ht as default};
