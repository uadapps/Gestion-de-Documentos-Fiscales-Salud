import{a as n,j as e}from"./app-BpGYFxt4.js";import{D as ut,b as pt,g as ft,c as mt,d as gt,e as xt}from"./dialog-4s6OCBIW.js";import{u as W,d as ht,c as ee,B as Ee}from"./button-CL0MAPb-.js";import{c as Oe,u as vt,d as Pe,R as bt,f as St,g as Ie,h as yt,i as wt,j as R,k as X,P as Ct,V as jt,l as Nt,m as Tt,n as It,o as _t,F as Et,D as Pt,p as Rt,q as kt,M as Se,C as ye,B as ne,X as Ot}from"./app-layout-CWsd8uKz.js";import{P as D,r as Me}from"./index-Bk1YBujv.js";import{c as De}from"./createLucideIcon-C3MB8Pmr.js";import{C as Ae}from"./check-GE6g_B1Y.js";import{L as Re}from"./loader-circle-1ro2yZSK.js";import{C as Mt}from"./clock-__SUieMi.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dt=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Le=De("ChevronDown",Dt);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const At=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],Lt=De("ChevronUp",At);function ke(r,[o,t]){return Math.min(t,Math.max(o,r))}function Bt(r){const o=n.useRef({value:r,previous:r});return n.useMemo(()=>(o.current.value!==r&&(o.current.previous=o.current.value,o.current.value=r),o.current.previous),[r])}var Vt=[" ","Enter","ArrowUp","ArrowDown"],Ht=[" ","Enter"],te="Select",[ue,pe,Ft]=yt(te),[se]=St(te,[Ft,Oe]),fe=Oe(),[Ut,Y]=se(te),[Wt,zt]=se(te),Be=r=>{const{__scopeSelect:o,children:t,open:l,defaultOpen:i,onOpenChange:d,value:s,defaultValue:c,onValueChange:a,dir:p,name:v,autoComplete:S,disabled:_,required:j,form:y}=r,u=fe(o),[x,b]=n.useState(null),[f,h]=n.useState(null),[B,N]=n.useState(!1),G=vt(p),[P,A]=Pe({prop:l,defaultProp:i??!1,onChange:d,caller:te}),[F,z]=Pe({prop:s,defaultProp:c,onChange:a,caller:te}),V=n.useRef(null),m=x?y||!!x.closest("form"):!0,[T,k]=n.useState(new Set),L=Array.from(T).map(O=>O.props.value).join(";");return e.jsx(bt,{...u,children:e.jsxs(Ut,{required:j,scope:o,trigger:x,onTriggerChange:b,valueNode:f,onValueNodeChange:h,valueNodeHasChildren:B,onValueNodeHasChildrenChange:N,contentId:Ie(),value:F,onValueChange:z,open:P,onOpenChange:A,dir:G,triggerPointerDownPosRef:V,disabled:_,children:[e.jsx(ue.Provider,{scope:o,children:e.jsx(Wt,{scope:r.__scopeSelect,onNativeOptionAdd:n.useCallback(O=>{k(U=>new Set(U).add(O))},[]),onNativeOptionRemove:n.useCallback(O=>{k(U=>{const K=new Set(U);return K.delete(O),K})},[]),children:t})}),m?e.jsxs(at,{"aria-hidden":!0,required:j,tabIndex:-1,name:v,autoComplete:S,value:F,onChange:O=>z(O.target.value),disabled:_,form:y,children:[F===void 0?e.jsx("option",{value:""}):null,Array.from(T)]},L):null]})})};Be.displayName=te;var Ve="SelectTrigger",He=n.forwardRef((r,o)=>{const{__scopeSelect:t,disabled:l=!1,...i}=r,d=fe(t),s=Y(Ve,t),c=s.disabled||l,a=W(o,s.onTriggerChange),p=pe(t),v=n.useRef("touch"),[S,_,j]=lt(u=>{const x=p().filter(h=>!h.disabled),b=x.find(h=>h.value===s.value),f=it(x,u,b);f!==void 0&&s.onValueChange(f.value)}),y=u=>{c||(s.onOpenChange(!0),j()),u&&(s.triggerPointerDownPosRef.current={x:Math.round(u.pageX),y:Math.round(u.pageY)})};return e.jsx(wt,{asChild:!0,...d,children:e.jsx(D.button,{type:"button",role:"combobox","aria-controls":s.contentId,"aria-expanded":s.open,"aria-required":s.required,"aria-autocomplete":"none",dir:s.dir,"data-state":s.open?"open":"closed",disabled:c,"data-disabled":c?"":void 0,"data-placeholder":ct(s.value)?"":void 0,...i,ref:a,onClick:R(i.onClick,u=>{u.currentTarget.focus(),v.current!=="mouse"&&y(u)}),onPointerDown:R(i.onPointerDown,u=>{v.current=u.pointerType;const x=u.target;x.hasPointerCapture(u.pointerId)&&x.releasePointerCapture(u.pointerId),u.button===0&&u.ctrlKey===!1&&u.pointerType==="mouse"&&(y(u),u.preventDefault())}),onKeyDown:R(i.onKeyDown,u=>{const x=S.current!=="";!(u.ctrlKey||u.altKey||u.metaKey)&&u.key.length===1&&_(u.key),!(x&&u.key===" ")&&Vt.includes(u.key)&&(y(),u.preventDefault())})})})});He.displayName=Ve;var Fe="SelectValue",Ue=n.forwardRef((r,o)=>{const{__scopeSelect:t,className:l,style:i,children:d,placeholder:s="",...c}=r,a=Y(Fe,t),{onValueNodeHasChildrenChange:p}=a,v=d!==void 0,S=W(o,a.onValueNodeChange);return X(()=>{p(v)},[p,v]),e.jsx(D.span,{...c,ref:S,style:{pointerEvents:"none"},children:ct(a.value)?e.jsx(e.Fragment,{children:s}):d})});Ue.displayName=Fe;var Kt="SelectIcon",We=n.forwardRef((r,o)=>{const{__scopeSelect:t,children:l,...i}=r;return e.jsx(D.span,{"aria-hidden":!0,...i,ref:o,children:l||"▼"})});We.displayName=Kt;var $t="SelectPortal",ze=r=>e.jsx(Ct,{asChild:!0,...r});ze.displayName=$t;var re="SelectContent",Ke=n.forwardRef((r,o)=>{const t=Y(re,r.__scopeSelect),[l,i]=n.useState();if(X(()=>{i(new DocumentFragment)},[]),!t.open){const d=l;return d?Me.createPortal(e.jsx($e,{scope:r.__scopeSelect,children:e.jsx(ue.Slot,{scope:r.__scopeSelect,children:e.jsx("div",{children:r.children})})}),d):null}return e.jsx(qe,{...r,ref:o})});Ke.displayName=re;var H=10,[$e,Z]=se(re),qt="SelectContentImpl",Xt=ht("SelectContent.RemoveScroll"),qe=n.forwardRef((r,o)=>{const{__scopeSelect:t,position:l="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:d,onPointerDownOutside:s,side:c,sideOffset:a,align:p,alignOffset:v,arrowPadding:S,collisionBoundary:_,collisionPadding:j,sticky:y,hideWhenDetached:u,avoidCollisions:x,...b}=r,f=Y(re,t),[h,B]=n.useState(null),[N,G]=n.useState(null),P=W(o,g=>B(g)),[A,F]=n.useState(null),[z,V]=n.useState(null),m=pe(t),[T,k]=n.useState(!1),L=n.useRef(!1);n.useEffect(()=>{if(h)return Tt(h)},[h]),It();const O=n.useCallback(g=>{const[I,...M]=m().map(E=>E.ref.current),[w]=M.slice(-1),C=document.activeElement;for(const E of g)if(E===C||(E?.scrollIntoView({block:"nearest"}),E===I&&N&&(N.scrollTop=0),E===w&&N&&(N.scrollTop=N.scrollHeight),E?.focus(),document.activeElement!==C))return},[m,N]),U=n.useCallback(()=>O([A,h]),[O,A,h]);n.useEffect(()=>{T&&U()},[T,U]);const{onOpenChange:K,triggerPointerDownPosRef:q}=f;n.useEffect(()=>{if(h){let g={x:0,y:0};const I=w=>{g={x:Math.abs(Math.round(w.pageX)-(q.current?.x??0)),y:Math.abs(Math.round(w.pageY)-(q.current?.y??0))}},M=w=>{g.x<=10&&g.y<=10?w.preventDefault():h.contains(w.target)||K(!1),document.removeEventListener("pointermove",I),q.current=null};return q.current!==null&&(document.addEventListener("pointermove",I),document.addEventListener("pointerup",M,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",I),document.removeEventListener("pointerup",M,{capture:!0})}}},[h,K,q]),n.useEffect(()=>{const g=()=>K(!1);return window.addEventListener("blur",g),window.addEventListener("resize",g),()=>{window.removeEventListener("blur",g),window.removeEventListener("resize",g)}},[K]);const[me,le]=lt(g=>{const I=m().filter(C=>!C.disabled),M=I.find(C=>C.ref.current===document.activeElement),w=it(I,g,M);w&&setTimeout(()=>w.ref.current.focus())}),ge=n.useCallback((g,I,M)=>{const w=!L.current&&!M;(f.value!==void 0&&f.value===I||w)&&(F(g),w&&(L.current=!0))},[f.value]),xe=n.useCallback(()=>h?.focus(),[h]),oe=n.useCallback((g,I,M)=>{const w=!L.current&&!M;(f.value!==void 0&&f.value===I||w)&&V(g)},[f.value]),ie=l==="popper"?we:Xe,ae=ie===we?{side:c,sideOffset:a,align:p,alignOffset:v,arrowPadding:S,collisionBoundary:_,collisionPadding:j,sticky:y,hideWhenDetached:u,avoidCollisions:x}:{};return e.jsx($e,{scope:t,content:h,viewport:N,onViewportChange:G,itemRefCallback:ge,selectedItem:A,onItemLeave:xe,itemTextRefCallback:oe,focusSelectedItem:U,selectedItemText:z,position:l,isPositioned:T,searchRef:me,children:e.jsx(_t,{as:Xt,allowPinchZoom:!0,children:e.jsx(Et,{asChild:!0,trapped:f.open,onMountAutoFocus:g=>{g.preventDefault()},onUnmountAutoFocus:R(i,g=>{f.trigger?.focus({preventScroll:!0}),g.preventDefault()}),children:e.jsx(Pt,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:d,onPointerDownOutside:s,onFocusOutside:g=>g.preventDefault(),onDismiss:()=>f.onOpenChange(!1),children:e.jsx(ie,{role:"listbox",id:f.contentId,"data-state":f.open?"open":"closed",dir:f.dir,onContextMenu:g=>g.preventDefault(),...b,...ae,onPlaced:()=>k(!0),ref:P,style:{display:"flex",flexDirection:"column",outline:"none",...b.style},onKeyDown:R(b.onKeyDown,g=>{const I=g.ctrlKey||g.altKey||g.metaKey;if(g.key==="Tab"&&g.preventDefault(),!I&&g.key.length===1&&le(g.key),["ArrowUp","ArrowDown","Home","End"].includes(g.key)){let w=m().filter(C=>!C.disabled).map(C=>C.ref.current);if(["ArrowUp","End"].includes(g.key)&&(w=w.slice().reverse()),["ArrowUp","ArrowDown"].includes(g.key)){const C=g.target,E=w.indexOf(C);w=w.slice(E+1)}setTimeout(()=>O(w)),g.preventDefault()}})})})})})})});qe.displayName=qt;var Yt="SelectItemAlignedPosition",Xe=n.forwardRef((r,o)=>{const{__scopeSelect:t,onPlaced:l,...i}=r,d=Y(re,t),s=Z(re,t),[c,a]=n.useState(null),[p,v]=n.useState(null),S=W(o,P=>v(P)),_=pe(t),j=n.useRef(!1),y=n.useRef(!0),{viewport:u,selectedItem:x,selectedItemText:b,focusSelectedItem:f}=s,h=n.useCallback(()=>{if(d.trigger&&d.valueNode&&c&&p&&u&&x&&b){const P=d.trigger.getBoundingClientRect(),A=p.getBoundingClientRect(),F=d.valueNode.getBoundingClientRect(),z=b.getBoundingClientRect();if(d.dir!=="rtl"){const C=z.left-A.left,E=F.left-C,J=P.left-E,Q=P.width+J,he=Math.max(Q,A.width),ve=window.innerWidth-H,be=ke(E,[H,Math.max(H,ve-he)]);c.style.minWidth=Q+"px",c.style.left=be+"px"}else{const C=A.right-z.right,E=window.innerWidth-F.right-C,J=window.innerWidth-P.right-E,Q=P.width+J,he=Math.max(Q,A.width),ve=window.innerWidth-H,be=ke(E,[H,Math.max(H,ve-he)]);c.style.minWidth=Q+"px",c.style.right=be+"px"}const V=_(),m=window.innerHeight-H*2,T=u.scrollHeight,k=window.getComputedStyle(p),L=parseInt(k.borderTopWidth,10),O=parseInt(k.paddingTop,10),U=parseInt(k.borderBottomWidth,10),K=parseInt(k.paddingBottom,10),q=L+O+T+K+U,me=Math.min(x.offsetHeight*5,q),le=window.getComputedStyle(u),ge=parseInt(le.paddingTop,10),xe=parseInt(le.paddingBottom,10),oe=P.top+P.height/2-H,ie=m-oe,ae=x.offsetHeight/2,g=x.offsetTop+ae,I=L+O+g,M=q-I;if(I<=oe){const C=V.length>0&&x===V[V.length-1].ref.current;c.style.bottom="0px";const E=p.clientHeight-u.offsetTop-u.offsetHeight,J=Math.max(ie,ae+(C?xe:0)+E+U),Q=I+J;c.style.height=Q+"px"}else{const C=V.length>0&&x===V[0].ref.current;c.style.top="0px";const J=Math.max(oe,L+u.offsetTop+(C?ge:0)+ae)+M;c.style.height=J+"px",u.scrollTop=I-oe+u.offsetTop}c.style.margin=`${H}px 0`,c.style.minHeight=me+"px",c.style.maxHeight=m+"px",l?.(),requestAnimationFrame(()=>j.current=!0)}},[_,d.trigger,d.valueNode,c,p,u,x,b,d.dir,l]);X(()=>h(),[h]);const[B,N]=n.useState();X(()=>{p&&N(window.getComputedStyle(p).zIndex)},[p]);const G=n.useCallback(P=>{P&&y.current===!0&&(h(),f?.(),y.current=!1)},[h,f]);return e.jsx(Gt,{scope:t,contentWrapper:c,shouldExpandOnScrollRef:j,onScrollButtonChange:G,children:e.jsx("div",{ref:a,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:B},children:e.jsx(D.div,{...i,ref:S,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});Xe.displayName=Yt;var Zt="SelectPopperPosition",we=n.forwardRef((r,o)=>{const{__scopeSelect:t,align:l="start",collisionPadding:i=H,...d}=r,s=fe(t);return e.jsx(Rt,{...s,...d,ref:o,align:l,collisionPadding:i,style:{boxSizing:"border-box",...d.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});we.displayName=Zt;var[Gt,_e]=se(re,{}),Ce="SelectViewport",Ye=n.forwardRef((r,o)=>{const{__scopeSelect:t,nonce:l,...i}=r,d=Z(Ce,t),s=_e(Ce,t),c=W(o,d.onViewportChange),a=n.useRef(0);return e.jsxs(e.Fragment,{children:[e.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:l}),e.jsx(ue.Slot,{scope:t,children:e.jsx(D.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:c,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:R(i.onScroll,p=>{const v=p.currentTarget,{contentWrapper:S,shouldExpandOnScrollRef:_}=s;if(_?.current&&S){const j=Math.abs(a.current-v.scrollTop);if(j>0){const y=window.innerHeight-H*2,u=parseFloat(S.style.minHeight),x=parseFloat(S.style.height),b=Math.max(u,x);if(b<y){const f=b+j,h=Math.min(y,f),B=f-h;S.style.height=h+"px",S.style.bottom==="0px"&&(v.scrollTop=B>0?B:0,S.style.justifyContent="flex-end")}}}a.current=v.scrollTop})})})]})});Ye.displayName=Ce;var Ze="SelectGroup",[Jt,Qt]=se(Ze),er=n.forwardRef((r,o)=>{const{__scopeSelect:t,...l}=r,i=Ie();return e.jsx(Jt,{scope:t,id:i,children:e.jsx(D.div,{role:"group","aria-labelledby":i,...l,ref:o})})});er.displayName=Ze;var Ge="SelectLabel",tr=n.forwardRef((r,o)=>{const{__scopeSelect:t,...l}=r,i=Qt(Ge,t);return e.jsx(D.div,{id:i.id,...l,ref:o})});tr.displayName=Ge;var de="SelectItem",[rr,Je]=se(de),Qe=n.forwardRef((r,o)=>{const{__scopeSelect:t,value:l,disabled:i=!1,textValue:d,...s}=r,c=Y(de,t),a=Z(de,t),p=c.value===l,[v,S]=n.useState(d??""),[_,j]=n.useState(!1),y=W(o,f=>a.itemRefCallback?.(f,l,i)),u=Ie(),x=n.useRef("touch"),b=()=>{i||(c.onValueChange(l),c.onOpenChange(!1))};if(l==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return e.jsx(rr,{scope:t,value:l,disabled:i,textId:u,isSelected:p,onItemTextChange:n.useCallback(f=>{S(h=>h||(f?.textContent??"").trim())},[]),children:e.jsx(ue.ItemSlot,{scope:t,value:l,disabled:i,textValue:v,children:e.jsx(D.div,{role:"option","aria-labelledby":u,"data-highlighted":_?"":void 0,"aria-selected":p&&_,"data-state":p?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...s,ref:y,onFocus:R(s.onFocus,()=>j(!0)),onBlur:R(s.onBlur,()=>j(!1)),onClick:R(s.onClick,()=>{x.current!=="mouse"&&b()}),onPointerUp:R(s.onPointerUp,()=>{x.current==="mouse"&&b()}),onPointerDown:R(s.onPointerDown,f=>{x.current=f.pointerType}),onPointerMove:R(s.onPointerMove,f=>{x.current=f.pointerType,i?a.onItemLeave?.():x.current==="mouse"&&f.currentTarget.focus({preventScroll:!0})}),onPointerLeave:R(s.onPointerLeave,f=>{f.currentTarget===document.activeElement&&a.onItemLeave?.()}),onKeyDown:R(s.onKeyDown,f=>{a.searchRef?.current!==""&&f.key===" "||(Ht.includes(f.key)&&b(),f.key===" "&&f.preventDefault())})})})})});Qe.displayName=de;var ce="SelectItemText",et=n.forwardRef((r,o)=>{const{__scopeSelect:t,className:l,style:i,...d}=r,s=Y(ce,t),c=Z(ce,t),a=Je(ce,t),p=zt(ce,t),[v,S]=n.useState(null),_=W(o,b=>S(b),a.onItemTextChange,b=>c.itemTextRefCallback?.(b,a.value,a.disabled)),j=v?.textContent,y=n.useMemo(()=>e.jsx("option",{value:a.value,disabled:a.disabled,children:j},a.value),[a.disabled,a.value,j]),{onNativeOptionAdd:u,onNativeOptionRemove:x}=p;return X(()=>(u(y),()=>x(y)),[u,x,y]),e.jsxs(e.Fragment,{children:[e.jsx(D.span,{id:a.textId,...d,ref:_}),a.isSelected&&s.valueNode&&!s.valueNodeHasChildren?Me.createPortal(d.children,s.valueNode):null]})});et.displayName=ce;var tt="SelectItemIndicator",rt=n.forwardRef((r,o)=>{const{__scopeSelect:t,...l}=r;return Je(tt,t).isSelected?e.jsx(D.span,{"aria-hidden":!0,...l,ref:o}):null});rt.displayName=tt;var je="SelectScrollUpButton",ot=n.forwardRef((r,o)=>{const t=Z(je,r.__scopeSelect),l=_e(je,r.__scopeSelect),[i,d]=n.useState(!1),s=W(o,l.onScrollButtonChange);return X(()=>{if(t.viewport&&t.isPositioned){let c=function(){const p=a.scrollTop>0;d(p)};const a=t.viewport;return c(),a.addEventListener("scroll",c),()=>a.removeEventListener("scroll",c)}},[t.viewport,t.isPositioned]),i?e.jsx(st,{...r,ref:s,onAutoScroll:()=>{const{viewport:c,selectedItem:a}=t;c&&a&&(c.scrollTop=c.scrollTop-a.offsetHeight)}}):null});ot.displayName=je;var Ne="SelectScrollDownButton",nt=n.forwardRef((r,o)=>{const t=Z(Ne,r.__scopeSelect),l=_e(Ne,r.__scopeSelect),[i,d]=n.useState(!1),s=W(o,l.onScrollButtonChange);return X(()=>{if(t.viewport&&t.isPositioned){let c=function(){const p=a.scrollHeight-a.clientHeight,v=Math.ceil(a.scrollTop)<p;d(v)};const a=t.viewport;return c(),a.addEventListener("scroll",c),()=>a.removeEventListener("scroll",c)}},[t.viewport,t.isPositioned]),i?e.jsx(st,{...r,ref:s,onAutoScroll:()=>{const{viewport:c,selectedItem:a}=t;c&&a&&(c.scrollTop=c.scrollTop+a.offsetHeight)}}):null});nt.displayName=Ne;var st=n.forwardRef((r,o)=>{const{__scopeSelect:t,onAutoScroll:l,...i}=r,d=Z("SelectScrollButton",t),s=n.useRef(null),c=pe(t),a=n.useCallback(()=>{s.current!==null&&(window.clearInterval(s.current),s.current=null)},[]);return n.useEffect(()=>()=>a(),[a]),X(()=>{c().find(v=>v.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[c]),e.jsx(D.div,{"aria-hidden":!0,...i,ref:o,style:{flexShrink:0,...i.style},onPointerDown:R(i.onPointerDown,()=>{s.current===null&&(s.current=window.setInterval(l,50))}),onPointerMove:R(i.onPointerMove,()=>{d.onItemLeave?.(),s.current===null&&(s.current=window.setInterval(l,50))}),onPointerLeave:R(i.onPointerLeave,()=>{a()})})}),or="SelectSeparator",nr=n.forwardRef((r,o)=>{const{__scopeSelect:t,...l}=r;return e.jsx(D.div,{"aria-hidden":!0,...l,ref:o})});nr.displayName=or;var Te="SelectArrow",sr=n.forwardRef((r,o)=>{const{__scopeSelect:t,...l}=r,i=fe(t),d=Y(Te,t),s=Z(Te,t);return d.open&&s.position==="popper"?e.jsx(kt,{...i,...l,ref:o}):null});sr.displayName=Te;var ar="SelectBubbleInput",at=n.forwardRef(({__scopeSelect:r,value:o,...t},l)=>{const i=n.useRef(null),d=W(l,i),s=Bt(o);return n.useEffect(()=>{const c=i.current;if(!c)return;const a=window.HTMLSelectElement.prototype,v=Object.getOwnPropertyDescriptor(a,"value").set;if(s!==o&&v){const S=new Event("change",{bubbles:!0});v.call(c,o),c.dispatchEvent(S)}},[s,o]),e.jsx(D.select,{...t,style:{...jt,...t.style},ref:d,defaultValue:o})});at.displayName=ar;function ct(r){return r===""||r===void 0}function lt(r){const o=Nt(r),t=n.useRef(""),l=n.useRef(0),i=n.useCallback(s=>{const c=t.current+s;o(c),(function a(p){t.current=p,window.clearTimeout(l.current),p!==""&&(l.current=window.setTimeout(()=>a(""),1e3))})(c)},[o]),d=n.useCallback(()=>{t.current="",window.clearTimeout(l.current)},[]);return n.useEffect(()=>()=>window.clearTimeout(l.current),[]),[t,i,d]}function it(r,o,t){const i=o.length>1&&Array.from(o).every(p=>p===o[0])?o[0]:o,d=t?r.indexOf(t):-1;let s=cr(r,Math.max(d,0));i.length===1&&(s=s.filter(p=>p!==t));const a=s.find(p=>p.textValue.toLowerCase().startsWith(i.toLowerCase()));return a!==t?a:void 0}function cr(r,o){return r.map((t,l)=>r[(o+l)%r.length])}var lr=Be,ir=He,dr=Ue,ur=We,pr=ze,fr=Ke,mr=Ye,gr=Qe,xr=et,hr=rt,vr=ot,br=nt;function Sr({...r}){return e.jsx(lr,{"data-slot":"select",...r})}function yr({...r}){return e.jsx(dr,{"data-slot":"select-value",...r})}function wr({className:r,children:o,...t}){return e.jsxs(ir,{"data-slot":"select-trigger",className:ee("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive flex h-9 w-full items-center justify-between rounded-md border bg-transparent px-3 py-2 text-sm shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 [&>span]:line-clamp-1",r),...t,children:[o,e.jsx(ur,{asChild:!0,children:e.jsx(Le,{className:"size-4 opacity-50"})})]})}function Cr({className:r,children:o,position:t="popper",...l}){return e.jsx(pr,{children:e.jsxs(fr,{"data-slot":"select-content",className:ee("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border shadow-md",t==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",r),position:t,...l,children:[e.jsx(jr,{}),e.jsx(mr,{className:ee("p-1",t==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:o}),e.jsx(Nr,{})]})})}function $({className:r,children:o,...t}){return e.jsxs(gr,{"data-slot":"select-item",className:ee("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",r),...t,children:[e.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:e.jsx(hr,{children:e.jsx(Ae,{className:"size-4"})})}),e.jsx(xr,{children:o})]})}function jr({className:r,...o}){return e.jsx(vr,{"data-slot":"select-scroll-up-button",className:ee("flex cursor-default items-center justify-center py-1",r),...o,children:e.jsx(Lt,{className:"size-4"})})}function Nr({className:r,...o}){return e.jsx(br,{"data-slot":"select-scroll-down-button",className:ee("flex cursor-default items-center justify-center py-1",r),...o,children:e.jsx(Le,{className:"size-4"})})}const dt=n.forwardRef(({className:r,...o},t)=>e.jsx("textarea",{className:ee("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",r),ref:t,...o}));dt.displayName="Textarea";function Dr({isOpen:r,onClose:o,documentoInformacionId:t,campusId:l,documentoNombre:i,isGlobalComment:d=!1,readOnly:s=!1,canMarkAttended:c=!1,observacionesSistema:a=null,observacionesArchivoSistema:p=null}){const[v,S]=n.useState([]),[_,j]=n.useState(!1),[y,u]=n.useState(!1),[x,b]=n.useState(""),[f,h]=n.useState(d?"Observación general":"Observación"),[B,N]=n.useState("");n.useEffect(()=>{r?(h(d?"Observación general":"Observación"),P(),c&&G()):(b(""),h(d?"Observación general":"Observación"),N(""))},[r,t,l,c,d]);const G=async()=>{try{const m=d?`/observaciones/campus/${l}/marcar-atendidas`:`/observaciones/documento/${t}/marcar-atendidas`;await fetch(m,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]')?.getAttribute("content")||""}})}catch(m){console.error("Error al marcar observaciones como atendidas:",m)}},P=async()=>{j(!0),N("");try{const m=d?`/observaciones/campus/${l}`:`/observaciones/documento/${t}`,k=await(await fetch(m,{headers:{Accept:"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]')?.getAttribute("content")||""}})).json();k.success?S(k.observaciones):N(k.message||"Error al cargar observaciones")}catch(m){console.error("Error al cargar observaciones:",m),N("Error de conexión al cargar observaciones")}finally{j(!1)}},A=async()=>{if(!x.trim()){N("La observación no puede estar vacía");return}u(!0),N("");try{const m=d?"/observaciones/campus":"/observaciones/documento",T=d?{campus_id:l,tipo_observacion:f,observacion:x,estatus:"pendiente"}:{documento_informacion_id:t,campus_id:l,tipo_observacion:f,observacion:x,estatus:"pendiente"},L=await(await fetch(m,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]')?.getAttribute("content")||""},body:JSON.stringify(T)})).json();L.success?(b(""),h(d?"Observación general":"Observación"),await P()):N(L.message||"Error al guardar observación")}catch(m){console.error("Error al guardar observación:",m),N("Error de conexión al guardar")}finally{u(!1)}},F=m=>{switch(m){case"pendiente":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"atendido":return"bg-green-100 text-green-800 border-green-200";case"rechazado":return"bg-red-100 text-red-800 border-red-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},z=m=>{switch(m){case"pendiente":return e.jsx(Mt,{className:"h-3 w-3"});case"atendido":return e.jsx(Ae,{className:"h-3 w-3"});case"rechazado":return e.jsx(Ot,{className:"h-3 w-3"});default:return null}},V=m=>{if(!m)return"bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-300 border-gray-200 dark:border-gray-600";const T=m.toLowerCase();return T.includes("observación")?"bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-400 border-blue-200 dark:border-blue-800":T.includes("caducado")||T.includes("vencido")?"bg-red-100 dark:bg-red-900/30 text-red-800 dark:text-red-400 border-red-200 dark:border-red-800":T.includes("falta")?"bg-orange-100 dark:bg-orange-900/30 text-orange-800 dark:text-orange-400 border-orange-200 dark:border-orange-800":T.includes("revisar")||T.includes("revisión")?"bg-purple-100 dark:bg-purple-900/30 text-purple-800 dark:text-purple-400 border-purple-200 dark:border-purple-800":T.includes("inconsistencia")?"bg-yellow-100 dark:bg-yellow-900/30 text-yellow-800 dark:text-yellow-400 border-yellow-200 dark:border-yellow-800":"bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-300 border-gray-200 dark:border-gray-600"};return e.jsx(ut,{open:r,onOpenChange:o,children:e.jsxs(pt,{className:"max-w-3xl max-h-[85vh] flex flex-col",children:[e.jsxs(ft,{children:[e.jsxs(mt,{className:"flex items-center gap-2",children:[e.jsx(Se,{className:"h-5 w-5 text-blue-600"}),d?"Comentarios Generales del Campus":`Observaciones - ${i||"Documento"}`]}),e.jsx(gt,{children:s?d?"Consulta los comentarios generales sobre el campus":"Consulta las observaciones o comentarios sobre este documento":d?"Agregar comentarios generales sobre el campus":"Agregar observaciones o comentarios sobre este documento"})]}),e.jsxs("div",{className:"overflow-y-auto flex-1 px-1",children:[!s&&e.jsxs("div",{className:"space-y-4 py-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Tipo de observación"}),e.jsxs(Sr,{value:f,onValueChange:h,children:[e.jsx(wr,{children:e.jsx(yr,{placeholder:"Seleccionar tipo"})}),e.jsx(Cr,{children:d?e.jsxs(e.Fragment,{children:[e.jsx($,{value:"Observación general",children:"Observación general"}),e.jsx($,{value:"Revisión general",children:"Revisión general"}),e.jsx($,{value:"Falta documentación",children:"Falta documentación"}),e.jsx($,{value:"Inconsistencia",children:"Inconsistencia"})]}):e.jsxs(e.Fragment,{children:[e.jsx($,{value:"Observación",children:"Observación"}),e.jsx($,{value:"Documento caducado",children:"Documento caducado"}),e.jsx($,{value:"Falta información",children:"Falta información"}),e.jsx($,{value:"Revisar datos",children:"Revisar datos"}),e.jsx($,{value:"Inconsistencia",children:"Inconsistencia"})]})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Observación"}),e.jsx(dt,{value:x,onChange:m=>b(m.target.value),placeholder:"Escriba su observación o comentario aquí...",rows:4,className:"resize-none"})]}),B&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-red-600 bg-red-50 p-2 rounded",children:[e.jsx(ye,{className:"h-4 w-4"}),B]}),e.jsx(Ee,{onClick:A,disabled:y||!x.trim(),className:"w-full",children:y?e.jsxs(e.Fragment,{children:[e.jsx(Re,{className:"h-4 w-4 mr-2 animate-spin"}),"Guardando..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Se,{className:"h-4 w-4 mr-2"}),"Guardar Observación"]})})]}),e.jsxs("div",{className:"border-t pt-4",children:[e.jsxs("h4",{className:"text-sm font-semibold mb-3",children:["Observaciones anteriores (",v.length+(a||p?(a?1:0)+(p?1:0):0),")"]}),_?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx(Re,{className:"h-6 w-6 animate-spin text-gray-400"})}):v.length===0&&!a&&!p?e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx(Se,{className:"h-12 w-12 mx-auto mb-2 text-gray-300"}),e.jsx("p",{className:"text-sm",children:"No hay observaciones registradas"})]}):e.jsxs("div",{className:"space-y-3 max-h-64 overflow-y-auto",children:[a&&e.jsxs("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-800",children:[e.jsx("div",{className:"flex items-start justify-between mb-2",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ne,{variant:"outline",className:"text-xs bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-400 border-blue-300",children:"Observación del Sistema"}),e.jsxs(ne,{className:"text-xs bg-gray-100 text-gray-800 border-gray-200",children:[e.jsx("span",{className:"mr-1",children:e.jsx(ye,{className:"h-3 w-3"})}),"Sistema"]})]})}),e.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300 mb-2",children:a}),e.jsx("div",{className:"flex items-center justify-between text-xs text-gray-500 dark:text-gray-400",children:e.jsx("span",{children:"Creado por: Sistema"})})]}),p&&e.jsxs("div",{className:"p-4 bg-indigo-50 dark:bg-indigo-900/20 rounded-lg border border-indigo-200 dark:border-indigo-800",children:[e.jsx("div",{className:"flex items-start justify-between mb-2",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ne,{variant:"outline",className:"text-xs bg-indigo-100 dark:bg-indigo-900/30 text-indigo-800 dark:text-indigo-400 border-indigo-300",children:"Observación de Archivo"}),e.jsxs(ne,{className:"text-xs bg-gray-100 text-gray-800 border-gray-200",children:[e.jsx("span",{className:"mr-1",children:e.jsx(ye,{className:"h-3 w-3"})}),"Sistema"]})]})}),e.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300 mb-2",children:p}),e.jsx("div",{className:"flex items-center justify-between text-xs text-gray-500 dark:text-gray-400",children:e.jsx("span",{children:"Creado por: Sistema"})})]}),v.map(m=>e.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700",children:[e.jsx("div",{className:"flex items-start justify-between mb-2",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ne,{className:`text-xs font-medium ${V(m.tipo_observacion)}`,children:m.tipo_observacion}),e.jsxs(ne,{className:`text-xs ${F(m.estatus)}`,children:[e.jsx("span",{className:"mr-1",children:z(m.estatus)}),m.estatus]})]})}),e.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300 mb-2",children:m.observacion}),e.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500 dark:text-gray-400",children:[e.jsxs("span",{children:["Creado por: ",m.creado_por_nombre||m.creado_por||"Sistema"]}),e.jsx("span",{children:new Date(m.creado_en).toLocaleString("es-MX",{day:"numeric",month:"short",hour:"2-digit",minute:"2-digit"})})]})]},m.id))]})]})]}),e.jsx(xt,{children:e.jsx(Ee,{variant:"outline",onClick:o,children:"Cerrar"})})]})})}export{Le as C,Dr as O,Sr as S,wr as a,yr as b,Cr as c,$ as d};
