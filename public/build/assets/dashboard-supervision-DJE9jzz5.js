import{a as c,u as Fe,j as r,H as Ge,L as $e}from"./app-YZ2GK03e.js";import{A as Ve,q as U}from"./app-layout-Brtj3MA6.js";import{C,a as S,b as D,c as w}from"./card-BFRtY8CF.js";import{B as le}from"./badge-D5Rez3Xw.js";import{d as te,B as F}from"./button-BvnyRoPC.js";import{c as He}from"./createLucideIcon-DwXOFUz6.js";import{F as Y,C as Xe}from"./file-text-C4Fr1H05.js";import{f as ke,s as re,u as Ne,g as Ue,h as Ye,i as Ae,j as Pe,k as K,l as se,m as ie,n as Ce,o as we,p as qe,q as ne,r as Je,t as Ie,v as oe,w as Qe,x as Ee,y as _e,z as Ze,S as ea,A as aa,D as ta,E as ra,G as sa,F as Se,H as ia,I as la,J as na,K as oa,M as De,N as ca,O as ce,Q as de,U as T,V as da,W as ua,Z as z,_ as ma,$ as pa,a0 as xa,a1 as q,a2 as ha,a3 as H,a4 as ga,a5 as fa,e as ue,d as me,R as G,B as pe,b as J,X as Q,Y as Z,T as $,L as V,c as B,P as ba,a as ya,C as va}from"./PieChart-BvEMJtKL.js";import{C as xe}from"./clock-WASwL7hK.js";import{T as he}from"./triangle-alert-CHT4GkEN.js";/* empty css            */import"./index-6vgNbFS9.js";import"./index-Ck1hUQsO.js";import"./index-u1-Hf6Gb.js";import"./index-DW9AIAM8.js";import"./log-out-BGH0h4nd.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ja=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],ge=He("Shield",ja);function ee(){return ee=Object.assign?Object.assign.bind():function(a){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var s in t)({}).hasOwnProperty.call(t,s)&&(a[s]=t[s])}return a},ee.apply(null,arguments)}var Oe=a=>{var{cx:e,cy:t,r:s,className:n}=a,l=te("recharts-dot",n);return e===+e&&t===+t&&s===+s?c.createElement("circle",ee({},re(a),ke(a),{className:l,cx:e,cy:t,r:s})):null};function fe(a,e){var t=Object.keys(a);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(a);e&&(s=s.filter(function(n){return Object.getOwnPropertyDescriptor(a,n).enumerable})),t.push.apply(t,s)}return t}function be(a){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?fe(Object(t),!0).forEach(function(s){ka(a,s,t[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(t)):fe(Object(t)).forEach(function(s){Object.defineProperty(a,s,Object.getOwnPropertyDescriptor(t,s))})}return a}function ka(a,e,t){return(e=Na(e))in a?Object.defineProperty(a,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):a[e]=t,a}function Na(a){var e=Aa(a,"string");return typeof e=="symbol"?e:e+""}function Aa(a,e){if(typeof a!="object"||!a)return a;var t=a[Symbol.toPrimitive];if(t!==void 0){var s=t.call(a,e);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(a)}var Pa=a=>{var{point:e,childIndex:t,mainColor:s,activeDot:n,dataKey:l}=a;if(n===!1||e.x==null||e.y==null)return null;var d=be(be({index:t,dataKey:l,cx:e.x,cy:e.y,r:4,fill:s??"none",strokeWidth:2,stroke:"#fff",payload:e.payload,value:e.value},Pe(n)),ke(n)),o;return c.isValidElement(n)?o=c.cloneElement(n,d):typeof n=="function"?o=n(d):o=c.createElement(Oe,d),c.createElement(K,{className:"recharts-active-dot"},o)};function ye(a){var{points:e,mainColor:t,activeDot:s,itemDataKey:n}=a,l=Ne(Ue),d=Ye();if(e==null||d==null)return null;var o=e.find(m=>d.includes(m.payload));return Ae(o)?null:Pa({point:o,childIndex:Number(l),mainColor:t,dataKey:n,activeDot:s})}function Ca(a){var e=Pe(a),t=3,s=2;if(e!=null){var{r:n,strokeWidth:l}=e,d=Number(n),o=Number(l);return(Number.isNaN(d)||d<0)&&(d=t),(Number.isNaN(o)||o<0)&&(o=s),{r:d,strokeWidth:o}}return{r:t,strokeWidth:s}}var Le=(a,e,t,s)=>Ce(a,"xAxis",e,s),Me=(a,e,t,s)=>we(a,"xAxis",e,s),ze=(a,e,t,s)=>Ce(a,"yAxis",t,s),Ke=(a,e,t,s)=>we(a,"yAxis",t,s),wa=se([ie,Le,ze,Me,Ke],(a,e,t,s,n)=>Ie(a,"xAxis")?oe(e,s,!1):oe(t,n,!1)),Ia=(a,e,t,s,n)=>n,Te=se([Qe,Ia],(a,e)=>a.filter(t=>t.type==="area").find(t=>t.id===e)),Ea=(a,e,t,s,n)=>{var l,d=Te(a,e,t,s,n);if(d!=null){var o=ie(a),m=Ie(o,"xAxis"),p;if(m?p=ne(a,"yAxis",t,s):p=ne(a,"xAxis",e,s),p!=null){var{stackId:y}=d,v=Je(d);if(!(y==null||v==null)){var h=(l=p[y])===null||l===void 0?void 0:l.stackedData;return h?.find(i=>i.key===v)}}}},_a=se([ie,Le,ze,Me,Ke,Ea,qe,wa,Te],(a,e,t,s,n,l,d,o,m)=>{var{chartData:p,dataStartIndex:y,dataEndIndex:v}=d;if(!(m==null||a!=="horizontal"&&a!=="vertical"||e==null||t==null||s==null||n==null||s.length===0||n.length===0||o==null)){var{data:h}=m,i;if(h&&h.length>0?i=h:i=p?.slice(y,v+1),i!=null){var u=void 0;return Ja({layout:a,xAxis:e,yAxis:t,xAxisTicks:s,yAxisTicks:n,dataStartIndex:y,areaSettings:m,stackedData:l,displayedData:i,chartBaseValue:u,bandSize:o})}}}),Sa=["id"],Da=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function Re(a,e){if(a==null)return{};var t,s,n=Oa(a,e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(a);for(s=0;s<l.length;s++)t=l[s],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(a,t)&&(n[t]=a[t])}return n}function Oa(a,e){if(a==null)return{};var t={};for(var s in a)if({}.hasOwnProperty.call(a,s)){if(e.indexOf(s)!==-1)continue;t[s]=a[s]}return t}function ve(a,e){var t=Object.keys(a);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(a);e&&(s=s.filter(function(n){return Object.getOwnPropertyDescriptor(a,n).enumerable})),t.push.apply(t,s)}return t}function I(a){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?ve(Object(t),!0).forEach(function(s){La(a,s,t[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(t)):ve(Object(t)).forEach(function(s){Object.defineProperty(a,s,Object.getOwnPropertyDescriptor(t,s))})}return a}function La(a,e,t){return(e=Ma(e))in a?Object.defineProperty(a,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):a[e]=t,a}function Ma(a){var e=za(a,"string");return typeof e=="symbol"?e:e+""}function za(a,e){if(typeof a!="object"||!a)return a;var t=a[Symbol.toPrimitive];if(t!==void 0){var s=t.call(a,e);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(a)}function E(){return E=Object.assign?Object.assign.bind():function(a){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var s in t)({}).hasOwnProperty.call(t,s)&&(a[s]=t[s])}return a},E.apply(null,arguments)}function X(a,e){return a&&a!=="none"?a:e}var Ka=a=>{var{dataKey:e,name:t,stroke:s,fill:n,legendType:l,hide:d}=a;return[{inactive:d,dataKey:e,type:l,color:X(s,n),value:Se(t,e),payload:a}]};function Ta(a){var{dataKey:e,data:t,stroke:s,strokeWidth:n,fill:l,name:d,hide:o,unit:m}=a;return{dataDefinedOnItem:t,positions:void 0,settings:{stroke:s,strokeWidth:n,fill:l,dataKey:e,nameKey:void 0,name:Se(d,e),hide:o,type:a.tooltipType,color:X(s,l),unit:m}}}var Ra=(a,e)=>{var t;if(c.isValidElement(a))t=c.cloneElement(a,e);else if(typeof a=="function")t=a(e);else{var s=te("recharts-area-dot",typeof a!="boolean"?a.className:"");t=c.createElement(Oe,E({},e,{className:s}))}return t};function Ba(a,e){return a==null?!1:e?!0:a.length===1}function Wa(a){var{clipPathId:e,points:t,props:s}=a,{needClip:n,dot:l,dataKey:d}=s;if(!Ba(t,l))return null;var o=De(l),m=re(s),p=ha(l),y=t.map((h,i)=>{var u=I(I(I({key:"dot-".concat(i),r:3},m),p),{},{index:i,cx:h.x,cy:h.y,dataKey:d,value:h.value,payload:h.payload,points:t});return Ra(l,u)}),v={clipPath:n?"url(#clipPath-".concat(o?"":"dots-").concat(e,")"):void 0};return c.createElement(K,E({className:"recharts-area-dots"},v),y)}function Fa(a){var{showLabels:e,children:t,points:s}=a,n=s.map(l=>{var d={x:l.x,y:l.y,width:0,height:0};return I(I({},d),{},{value:l.value,payload:l.payload,parentViewBox:void 0,viewBox:d,fill:void 0})});return c.createElement(xa,{value:e?n:null},t)}function je(a){var{points:e,baseLine:t,needClip:s,clipPathId:n,props:l}=a,{layout:d,type:o,stroke:m,connectNulls:p,isRange:y}=l,{id:v}=l,h=Re(l,Sa),i=re(h);return c.createElement(c.Fragment,null,e?.length>1&&c.createElement(K,{clipPath:s?"url(#clipPath-".concat(n,")"):void 0},c.createElement(q,E({},i,{id:v,points:e,connectNulls:p,type:o,baseLine:t,layout:d,stroke:"none",className:"recharts-area-area"})),m!=="none"&&c.createElement(q,E({},i,{className:"recharts-area-curve",layout:d,type:o,connectNulls:p,fill:"none",points:e})),m!=="none"&&y&&c.createElement(q,E({},i,{className:"recharts-area-curve",layout:d,type:o,connectNulls:p,fill:"none",points:t}))),c.createElement(Wa,{points:e,props:h,clipPathId:n}))}function Ga(a){var{alpha:e,baseLine:t,points:s,strokeWidth:n}=a,l=s[0].y,d=s[s.length-1].y;if(!H(l)||!H(d))return null;var o=e*Math.abs(l-d),m=Math.max(...s.map(p=>p.x||0));return T(t)?m=Math.max(t,m):t&&Array.isArray(t)&&t.length&&(m=Math.max(...t.map(p=>p.x||0),m)),T(m)?c.createElement("rect",{x:0,y:l<d?l:l-o,width:m+(n?parseInt("".concat(n),10):1),height:Math.floor(o)}):null}function $a(a){var{alpha:e,baseLine:t,points:s,strokeWidth:n}=a,l=s[0].x,d=s[s.length-1].x;if(!H(l)||!H(d))return null;var o=e*Math.abs(l-d),m=Math.max(...s.map(p=>p.y||0));return T(t)?m=Math.max(t,m):t&&Array.isArray(t)&&t.length&&(m=Math.max(...t.map(p=>p.y||0),m)),T(m)?c.createElement("rect",{x:l<d?l:l-o,y:0,width:o,height:Math.floor(m+(n?parseInt("".concat(n),10):1))}):null}function Va(a){var{alpha:e,layout:t,points:s,baseLine:n,strokeWidth:l}=a;return t==="vertical"?c.createElement(Ga,{alpha:e,points:s,baseLine:n,strokeWidth:l}):c.createElement($a,{alpha:e,points:s,baseLine:n,strokeWidth:l})}function Ha(a){var{needClip:e,clipPathId:t,props:s,previousPointsRef:n,previousBaselineRef:l}=a,{points:d,baseLine:o,isAnimationActive:m,animationBegin:p,animationDuration:y,animationEasing:v,onAnimationStart:h,onAnimationEnd:i}=s,u=da(s,"recharts-area-"),[x,g]=c.useState(!1),k=!x,N=c.useCallback(()=>{typeof i=="function"&&i(),g(!1)},[i]),A=c.useCallback(()=>{typeof h=="function"&&h(),g(!0)},[h]),b=n.current,j=l.current;return c.createElement(Fa,{showLabels:k,points:d},s.children,c.createElement(ua,{animationId:u,begin:p,duration:y,isActive:m,easing:v,onAnimationEnd:N,onAnimationStart:A,key:u},f=>{if(b){var O=b.length/d.length,W=f===1?d:d.map((P,R)=>{var L=Math.floor(R*O);if(b[L]){var M=b[L];return I(I({},P),{},{x:z(M.x,P.x,f),y:z(M.y,P.y,f)})}return P}),_;return T(o)?_=z(j,o,f):Ae(o)||ma(o)?_=z(j,0,f):_=o.map((P,R)=>{var L=Math.floor(R*O);if(Array.isArray(j)&&j[L]){var M=j[L];return I(I({},P),{},{x:z(M.x,P.x,f),y:z(M.y,P.y,f)})}return P}),f>0&&(n.current=W,l.current=_),c.createElement(je,{points:W,baseLine:_,needClip:e,clipPathId:t,props:s})}return f>0&&(n.current=d,l.current=o),c.createElement(K,null,m&&c.createElement("defs",null,c.createElement("clipPath",{id:"animationClipPath-".concat(t)},c.createElement(Va,{alpha:f,points:d,baseLine:o,layout:s.layout,strokeWidth:s.strokeWidth}))),c.createElement(K,{clipPath:"url(#animationClipPath-".concat(t,")")},c.createElement(je,{points:d,baseLine:o,needClip:e,clipPathId:t,props:s})))}),c.createElement(pa,{label:s.label}))}function Xa(a){var{needClip:e,clipPathId:t,props:s}=a,n=c.useRef(null),l=c.useRef();return c.createElement(Ha,{needClip:e,clipPathId:t,props:s,previousPointsRef:n,previousBaselineRef:l})}class Ua extends c.PureComponent{render(){var{hide:e,dot:t,points:s,className:n,top:l,left:d,needClip:o,xAxisId:m,yAxisId:p,width:y,height:v,id:h,baseLine:i}=this.props;if(e)return null;var u=te("recharts-area",n),x=h,{r:g,strokeWidth:k}=Ca(t),N=De(t),A=g*2+k;return c.createElement(c.Fragment,null,c.createElement(K,{className:u},o&&c.createElement("defs",null,c.createElement(ca,{clipPathId:x,xAxisId:m,yAxisId:p}),!N&&c.createElement("clipPath",{id:"clipPath-dots-".concat(x)},c.createElement("rect",{x:d-A/2,y:l-A/2,width:y+A,height:v+A}))),c.createElement(Xa,{needClip:o,clipPathId:x,props:this.props})),c.createElement(ye,{points:s,mainColor:X(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}),this.props.isRange&&Array.isArray(i)&&c.createElement(ye,{points:i,mainColor:X(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}))}}var Be={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:!sa.isSsr,legendType:"line",stroke:"#3182bd",xAxisId:0,yAxisId:0};function Ya(a){var e,t=Ee(a,Be),{activeDot:s,animationBegin:n,animationDuration:l,animationEasing:d,connectNulls:o,dot:m,fill:p,fillOpacity:y,hide:v,isAnimationActive:h,legendType:i,stroke:u,xAxisId:x,yAxisId:g}=t,k=Re(t,Da),N=ia(),A=la(),{needClip:b}=na(x,g),j=_e(),{points:f,isRange:O,baseLine:W}=(e=Ne(We=>_a(We,x,g,j,a.id)))!==null&&e!==void 0?e:{},_=oa();if(N!=="horizontal"&&N!=="vertical"||_==null||A!=="AreaChart"&&A!=="ComposedChart")return null;var{height:P,width:R,x:L,y:M}=_;return!f||!f.length?null:c.createElement(Ua,E({},k,{activeDot:s,animationBegin:n,animationDuration:l,animationEasing:d,baseLine:W,connectNulls:o,dot:m,fill:p,fillOpacity:y,height:P,hide:v,layout:N,isAnimationActive:h,isRange:O,legendType:i,needClip:b,points:f,stroke:u,width:R,left:L,top:M,xAxisId:x,yAxisId:g}))}var qa=(a,e,t,s,n)=>{var l=t??e;if(T(l))return l;var d=a==="horizontal"?n:s,o=d.scale.domain();if(d.type==="number"){var m=Math.max(o[0],o[1]),p=Math.min(o[0],o[1]);return l==="dataMin"?p:l==="dataMax"||m<0?m:Math.max(Math.min(o[0],o[1]),0)}return l==="dataMin"?o[0]:l==="dataMax"?o[1]:o[0]};function Ja(a){var{areaSettings:{connectNulls:e,baseValue:t,dataKey:s},stackedData:n,layout:l,chartBaseValue:d,xAxis:o,yAxis:m,displayedData:p,dataStartIndex:y,xAxisTicks:v,yAxisTicks:h,bandSize:i}=a,u=n&&n.length,x=qa(l,d,t,o,m),g=l==="horizontal",k=!1,N=p.map((b,j)=>{var f;u?f=n[y+j]:(f=ce(b,s),Array.isArray(f)?k=!0:f=[x,f]);var O=f[1]==null||u&&!e&&ce(b,s)==null;return g?{x:de({axis:o,ticks:v,bandSize:i,entry:b,index:j}),y:O?null:m.scale(f[1]),value:f,payload:b}:{x:O?null:o.scale(f[1]),y:de({axis:m,ticks:h,bandSize:i,entry:b,index:j}),value:f,payload:b}}),A;return u||k?A=N.map(b=>{var j=Array.isArray(b.value)?b.value[0]:null;return g?{x:b.x,y:j!=null&&b.y!=null?m.scale(j):null,payload:b.payload}:{x:j!=null?o.scale(j):null,y:b.y,payload:b.payload}}):A=g?m.scale(x):o.scale(x),{points:N,baseLine:A,isRange:k}}function Qa(a){var e=Ee(a,Be),t=_e();return c.createElement(Ze,{id:e.id,type:"area"},s=>c.createElement(c.Fragment,null,c.createElement(ea,{legendPayload:Ka(e)}),c.createElement(aa,{fn:Ta,args:e}),c.createElement(ta,{type:"area",id:s,data:e.data,dataKey:e.dataKey,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,stackId:ra(e.stackId),hide:e.hide,barSize:void 0,baseValue:e.baseValue,isPanorama:t,connectNulls:e.connectNulls}),c.createElement(Ya,E({},e,{id:s}))))}var ae=c.memo(Qa);ae.displayName="Area";var Za=["axis"],et=c.forwardRef((a,e)=>c.createElement(ga,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Za,tooltipPayloadSearcher:fa,categoricalChartProps:a,ref:e}));function ft(){const{datosSupervision:a}=Fe().props,[e,t]=c.useState("general"),s=[{title:"Dashboard",href:"/"}],l=a?a.estadisticas_por_campus.filter(x=>{switch(e){case"legales":return x.tiene_fiscales;case"medicos":return x.tiene_medicos;default:return!0}}).filter((x,g,k)=>g===k.findIndex(N=>N.campus_id===x.campus_id)):[],d=l.filter(i=>i.porcentaje_cumplimiento<60).length,m=[...l].sort((i,u)=>i.campus_nombre.localeCompare(u.campus_nombre)),y=[...l].sort((i,u)=>i.campus_nombre.localeCompare(u.campus_nombre)),v=()=>{const i=m.length,u=35,x=400,g=1e3,k=150+i*u;return Math.min(Math.max(k,x),g)},h=()=>{const i=y.length,u=20,x=400,g=120+i*u;return Math.max(g,x)};return r.jsxs(Ve,{breadcrumbs:s,children:[r.jsx(Ge,{title:"Supervisión - Dashboard Global"}),r.jsxs("div",{className:"h-full w-full p-6 space-y-6",children:[r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6 mb-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100 mb-1",children:"Dashboard de Supervisión"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Monitoreo de documentos legales y médicos"})]}),r.jsxs("div",{className:"flex items-center gap-6",children:[r.jsxs("div",{className:"text-right",children:[r.jsx("div",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:l.length}),r.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Campus"})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("div",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:[a?.estadisticas_generales.cumplimiento_promedio||0,"%"]}),r.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Cumplimiento"})]}),r.jsx($e,{href:"/supervision",children:r.jsxs(F,{className:"bg-blue-600 hover:bg-blue-700 dark:bg-blue-500 dark:hover:bg-blue-600 text-white",children:[r.jsx(ge,{className:"w-4 h-4 mr-2"}),"Ver Semáforo"]})})]})]})}),a&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[r.jsxs(C,{className:"border-l-4 border-l-blue-500 dark:border-l-blue-400",children:[r.jsx(S,{className:"pb-3",children:r.jsxs(D,{className:"text-sm font-medium text-gray-600 dark:text-gray-400 flex items-center gap-2",children:[r.jsx(Y,{className:"w-4 h-4"}),"Total Documentos"]})}),r.jsxs(w,{children:[r.jsx("div",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100 mb-2",children:a.estadisticas_generales.total_documentos.toLocaleString()}),r.jsxs("div",{className:"flex items-center text-sm text-gray-600 dark:text-gray-400",children:[r.jsx(U,{className:"w-4 h-4 mr-1"}),"En ",l.length," campus"]})]})]}),r.jsxs(C,{className:"border-l-4 border-l-green-500 dark:border-l-green-400",children:[r.jsx(S,{className:"pb-3",children:r.jsxs(D,{className:"text-sm font-medium text-gray-600 dark:text-gray-400 flex items-center gap-2",children:[r.jsx(Xe,{className:"w-4 h-4"}),"Documentos Aprobados"]})}),r.jsxs(w,{children:[r.jsx("div",{className:"text-3xl font-bold text-green-600 dark:text-green-400 mb-2",children:a.estadisticas_generales.total_aprobados.toLocaleString()}),r.jsxs("div",{className:"flex items-center text-sm text-green-600 dark:text-green-400",children:[r.jsx(ue,{className:"w-4 h-4 mr-1"}),a.estadisticas_generales.cumplimiento_promedio,"% cumplimiento"]})]})]}),r.jsxs(C,{className:"border-l-4 border-l-yellow-500 dark:border-l-yellow-400",children:[r.jsx(S,{className:"pb-3",children:r.jsxs(D,{className:"text-sm font-medium text-gray-600 dark:text-gray-400 flex items-center gap-2",children:[r.jsx(xe,{className:"w-4 h-4"}),"Pendientes"]})}),r.jsxs(w,{children:[r.jsx("div",{className:"text-3xl font-bold text-yellow-600 dark:text-yellow-400 mb-2",children:a.estadisticas_generales.total_pendientes.toLocaleString()}),r.jsxs("div",{className:"flex items-center text-sm text-yellow-600 dark:text-yellow-400",children:[r.jsx(xe,{className:"w-4 h-4 mr-1"}),"Requieren atención"]})]})]}),r.jsxs(C,{className:"border-l-4 border-l-red-500 dark:border-l-red-400",children:[r.jsx(S,{className:"pb-3",children:r.jsxs(D,{className:"text-sm font-medium text-gray-600 dark:text-gray-400 flex items-center gap-2",children:[r.jsx(he,{className:"w-4 h-4"}),"Campus Críticos"]})}),r.jsxs(w,{children:[r.jsx("div",{className:"text-3xl font-bold text-red-600 dark:text-red-400 mb-2",children:d}),r.jsxs("div",{className:"flex items-center text-sm text-red-600 dark:text-red-400",children:[r.jsx(he,{className:"w-4 h-4 mr-1"}),"Necesitan intervención"]})]})]})]}),a&&r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[r.jsx(C,{className:"lg:col-span-2 bg-gradient-to-r from-blue-50 to-purple-50 dark:from-blue-950 dark:to-purple-950 border-blue-200 dark:border-blue-800",children:r.jsx(w,{className:"pt-6",children:r.jsxs("div",{className:"flex items-center justify-between gap-4",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Y,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-gray-900 dark:text-gray-100",children:"Filtrar por Tipo de Documento"}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Selecciona qué documentos visualizar en las gráficas"})]})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs(F,{onClick:()=>t("general"),className:`${e==="general"?"bg-blue-600 hover:bg-blue-700 text-white":"bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 border border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700"}`,children:[r.jsx(U,{className:"w-4 h-4 mr-2"}),"General"]}),r.jsxs(F,{onClick:()=>t("legales"),className:`${e==="legales"?"bg-indigo-600 hover:bg-indigo-700 text-white":"bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 border border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700"}`,children:[r.jsx(ge,{className:"w-4 h-4 mr-2"}),"Legales"]}),r.jsxs(F,{onClick:()=>t("medicos"),className:`${e==="medicos"?"bg-green-600 hover:bg-green-700 text-white":"bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 border border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700"}`,children:[r.jsx(Y,{className:"w-4 h-4 mr-2"}),"Médicos"]}),r.jsxs("div",{className:"ml-4 text-sm text-gray-600 dark:text-gray-400 bg-white dark:bg-gray-800 px-4 py-2 rounded-lg border border-gray-200 dark:border-gray-700",children:["Mostrando: ",r.jsx("span",{className:"font-bold text-blue-600 dark:text-blue-400",children:e==="general"?"Todos":e==="legales"?"Documentos Legales":"Documentos Médicos"})]})]})]})})}),r.jsxs(C,{className:"lg:col-span-2",children:[r.jsx(S,{children:r.jsxs(D,{className:"text-xl flex items-center gap-3",children:[r.jsx(me,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"}),"Cumplimiento por Campus",r.jsx(le,{className:"bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200 ml-2",children:e==="general"?"General":e==="legales"?"Legales":"Médicos"})]})}),r.jsx(w,{children:r.jsx("div",{style:{height:`${v()}px`},children:r.jsx(G,{width:"100%",height:"100%",children:r.jsxs(pe,{data:m.map(i=>{const u=e==="legales"?i.fiscales.aprobados:e==="medicos"?i.medicos.aprobados:i.total_aprobados,x=e==="legales"?i.fiscales.pendientes:e==="medicos"?i.medicos.pendientes:i.total_pendientes,g=e==="legales"?i.fiscales.total_documentos:e==="medicos"?i.medicos.total_documentos:i.total_documentos;return{nombre:i.campus_nombre.length>20?i.campus_nombre.substring(0,20)+"...":i.campus_nombre,aprobados:u,pendientes:x,total:g}}),layout:"horizontal",margin:{top:20,right:30,left:20,bottom:80},children:[r.jsx(J,{strokeDasharray:"3 3",stroke:"#e5e7eb",className:"dark:stroke-gray-700"}),r.jsx(Q,{dataKey:"nombre",tick:{fontSize:13,fill:"currentColor"},className:"text-gray-700 dark:text-gray-300",angle:-45,textAnchor:"end",height:80,interval:0}),r.jsx(Z,{type:"number",tick:{fontSize:12,fill:"currentColor"},className:"text-gray-700 dark:text-gray-300",domain:[0,"dataMax + 5"]}),r.jsx($,{contentStyle:{backgroundColor:"#f8fafc",border:"1px solid #e2e8f0",borderRadius:"8px",color:"#1f2937"},formatter:(i,u)=>[i,u==="aprobados"?"Aprobados":u==="pendientes"?"Pendientes":"Total"]}),r.jsx(V,{wrapperStyle:{color:"currentColor"},className:"text-gray-700 dark:text-gray-300"}),r.jsx(B,{dataKey:"aprobados",fill:"#10b981",name:"Aprobados",radius:[0,4,4,0]})]})})})})]}),r.jsxs(C,{children:[r.jsx(S,{children:r.jsxs(D,{className:"text-lg flex items-center gap-2",children:[r.jsx(U,{className:"w-5 h-5 text-green-600 dark:text-green-400"}),"Estados de Documentos"]})}),r.jsx(w,{children:r.jsx("div",{className:"h-64",children:r.jsx(G,{width:"100%",height:"100%",children:r.jsxs(ba,{children:[r.jsx(ya,{data:[{name:"Aprobados",value:e==="legales"?l.reduce((i,u)=>i+u.fiscales.aprobados,0):e==="medicos"?l.reduce((i,u)=>i+u.medicos.aprobados,0):a.estadisticas_generales.total_aprobados,color:"#10b981"},{name:"Pendientes",value:e==="legales"?l.reduce((i,u)=>i+u.fiscales.pendientes,0):e==="medicos"?l.reduce((i,u)=>i+u.medicos.pendientes,0):a.estadisticas_generales.total_pendientes,color:"#f59e0b"},{name:"Caducados",value:e==="legales"?l.reduce((i,u)=>i+u.fiscales.caducados,0):e==="medicos"?l.reduce((i,u)=>i+u.medicos.caducados,0):a.estadisticas_generales.total_caducados,color:"#f97316"},{name:"Rechazados",value:e==="legales"?l.reduce((i,u)=>i+u.fiscales.rechazados,0):e==="medicos"?l.reduce((i,u)=>i+u.medicos.rechazados,0):a.estadisticas_generales.total_rechazados,color:"#ef4444"}].filter(i=>i.value>0),cx:"50%",cy:"50%",innerRadius:40,outerRadius:80,paddingAngle:2,dataKey:"value",children:[{color:"#10b981"},{color:"#f59e0b"},{color:"#f97316"},{color:"#ef4444"}].map((i,u)=>r.jsx(va,{fill:i.color},`cell-${u}`))}),r.jsx($,{contentStyle:{backgroundColor:"#f8fafc",border:"1px solid #e2e8f0",borderRadius:"8px"},formatter:i=>[i.toLocaleString(),"Documentos"]}),r.jsx(V,{})]})})})})]}),r.jsxs(C,{children:[r.jsx(S,{children:r.jsxs(D,{className:"text-lg flex items-center gap-2",children:[r.jsx(ue,{className:"w-5 h-5 text-purple-600 dark:text-purple-400"}),"Distribución por Tipo"]})}),r.jsx(w,{children:r.jsx("div",{style:{height:`${Math.max(400,v()*.5)}px`},children:r.jsx(G,{width:"100%",height:"100%",children:r.jsxs(et,{data:m.map(i=>({campus:i.campus_nombre.substring(0,10)+"...",legales:i.fiscales.total_documentos,medicos:i.medicos.total_documentos})),margin:{top:10,right:30,left:0,bottom:100},children:[r.jsx(J,{strokeDasharray:"3 3",stroke:"#e5e7eb",className:"dark:stroke-gray-700"}),r.jsx(Q,{dataKey:"campus",tick:{fontSize:11,fill:"currentColor"},className:"text-gray-700 dark:text-gray-300",angle:-45,textAnchor:"end",height:80,interval:0}),r.jsx(Z,{tick:{fontSize:12,fill:"currentColor"},className:"text-gray-700 dark:text-gray-300"}),r.jsx($,{contentStyle:{backgroundColor:"#f8fafc",border:"1px solid #e2e8f0",borderRadius:"8px",color:"#1f2937"},formatter:(i,u)=>[i,u==="legales"?"Docs Legales":"Docs Médicos"]}),r.jsx(ae,{type:"monotone",dataKey:"legales",stackId:"1",stroke:"#3b82f6",fill:"#3b82f6",fillOpacity:.6}),r.jsx(ae,{type:"monotone",dataKey:"medicos",stackId:"1",stroke:"#10b981",fill:"#10b981",fillOpacity:.6}),r.jsx(V,{})]})})})})]}),r.jsxs(C,{className:"lg:col-span-2",children:[r.jsx(S,{children:r.jsxs(D,{className:"text-xl flex items-center gap-3",children:[r.jsx(me,{className:"w-6 h-6 text-indigo-600 dark:text-indigo-400"}),"Análisis Detallado por Campus",r.jsx(le,{className:"bg-indigo-100 dark:bg-indigo-900 text-indigo-800 dark:text-indigo-200 ml-2",children:e==="general"?"General":e==="legales"?"Legales":"Médicos"})]})}),r.jsx(w,{children:r.jsx("div",{style:{height:`${h()}px`},children:r.jsx(G,{width:"100%",height:"100%",children:r.jsxs(pe,{data:y.map(i=>({nombre:i.campus_nombre.length>15?i.campus_nombre.substring(0,15)+"...":i.campus_nombre,aprobados:e==="legales"?i.fiscales.aprobados:e==="medicos"?i.medicos.aprobados:i.total_aprobados,pendientes:e==="legales"?i.fiscales.pendientes:e==="medicos"?i.medicos.pendientes:i.total_pendientes,caducados:e==="legales"?i.fiscales.caducados:e==="medicos"?i.medicos.caducados:i.total_caducados,rechazados:e==="legales"?i.fiscales.rechazados:e==="medicos"?i.medicos.rechazados:i.total_rechazados})),layout:"vertical",margin:{top:15,right:30,left:70,bottom:15},children:[r.jsx(J,{strokeDasharray:"3 3",stroke:"#e5e7eb",className:"dark:stroke-gray-700"}),r.jsx(Q,{type:"number",tick:{fontSize:13,fill:"currentColor"},className:"text-gray-700 dark:text-gray-300"}),r.jsx(Z,{type:"category",dataKey:"nombre",tick:{fontSize:10,fill:"currentColor"},className:"text-gray-700 dark:text-gray-300",width:120}),r.jsx($,{contentStyle:{backgroundColor:"#f8fafc",border:"1px solid #e2e8f0",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)",color:"#1f2937"},formatter:(i,u,x)=>{const g=x.payload,k=Number(i),N=Number(g.aprobados)+Number(g.pendientes)+Number(g.caducados)+Number(g.rechazados),A=N>0?(k/N*100).toFixed(1):"0",b=u||(x.dataKey==="aprobados"?"Aprobados":x.dataKey==="pendientes"?"Pendientes":x.dataKey==="caducados"?"Caducados":"Rechazados");return[`${i} documentos (${A}%)`,b]},labelFormatter:i=>`Campus: ${i}`,itemSorter:i=>["aprobados","pendientes","caducados","rechazados"].indexOf(String(i.dataKey||""))}),r.jsx(V,{wrapperStyle:{color:"currentColor"},className:"text-gray-700 dark:text-gray-300"}),r.jsx(B,{dataKey:"aprobados",stackId:"a",fill:"#10b981",name:"Aprobados"}),r.jsx(B,{dataKey:"pendientes",stackId:"a",fill:"#f59e0b",name:"Pendientes"}),r.jsx(B,{dataKey:"caducados",stackId:"a",fill:"#f97316",name:"Caducados"}),r.jsx(B,{dataKey:"rechazados",stackId:"a",fill:"#ef4444",name:"Rechazados"})]})})})})]})]})]})]})]})}export{ft as default};
