import{u as Oe,a as l,R as Ae,j as e,H as ze,r as Ve}from"./app-BZMwhJEr.js";import{A as $e,M as ne,B as u,b as Te}from"./app-layout-CyUuEPsm.js";import{C as b,a as f,b as j,c as y}from"./card-CenYjj8X.js";import{B as m}from"./button-DwWXpFmU.js";import{C as Re,S as Le,a as Me,b as Pe,c as Ge,d as w,O as Be}from"./ObservacionesModal-Bi9fqLC1.js";import{I as Ue}from"./input-CETUbgT4.js";import{B as Ie}from"./building-B7G0HdNy.js";import{F as g,C as P}from"./file-text-CChsFp24.js";import{T as G}from"./triangle-alert-BdTrAVaC.js";import{L as Fe}from"./loader-circle-H2o7zs6a.js";import{c as He}from"./createLucideIcon-niAd0JdM.js";import{E as B}from"./eye-DfBGinhO.js";import{D as U}from"./download-Dur_iXwJ.js";import{C as qe}from"./circle-x-BNs69g7i.js";import{C as Ke}from"./clock-D4HcltNR.js";/* empty css            */import"./index-Baf9TpJV.js";import"./index-F78BPGYV.js";import"./index-DW9AIAM8.js";import"./log-out-_K0oEiuR.js";import"./dialog-BYVs-O9f.js";import"./check-B7HqWQD_.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xe=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Je=He("Save",Xe);function vs(){const{campus:x,documentos:_,documentos_agrupados:v,estadisticas:C,estadisticas_sp:h,auth:ce}=Oe().props,[Qe,We]=l.useState(!1),[N,S]=l.useState({}),[I,p]=l.useState({}),[F,H]=l.useState({}),[q,K]=l.useState({}),[ie,de]=l.useState({}),[le,D]=l.useState(!1),[oe,E]=l.useState(null),[xe,O]=l.useState(""),[me,X]=l.useState(null),[he,J]=l.useState(null),[ue,A]=l.useState(!1),[Q,W]=l.useState(0),Y=ce?.user?.roles||[],Z=Array.isArray(Y)?Y.map(s=>s.rol||s.ID_Rol||s.nombre):[],ee=Z.some(s=>s==="20"||s===20),ge=Z.some(s=>s==="16"||s===16),se=ee||ge,z=ee,V=h?.total_general?.Total||v?.reduce((s,t)=>s+(t.documentos?.length||0),0)||0,ae=h?.total_general?.Vigentes||C?.documentos?.aprobados||0,pe=h?.total_general?.Caducados||C?.documentos?.vencidos||0,be=h?.total_general?.Pendientes||C?.documentos?.pendientes||0,fe=V>0?Math.round(ae/V*100*10)/10:0,je=s=>{if(!h?.resumen_por_tipo)return null;const t=s.toUpperCase();return h.resumen_por_tipo.find(r=>r.tipo_documento?.toUpperCase()===t)},$=v?.map(s=>{const t=je(s.tipo);return t?{...s,total:t.Total||s.total,aprobados:t.Vigentes||s.aprobados,vencidos:t.Caducados||s.vencidos,pendientes:t.Pendientes||s.pendientes,rechazados:t.Rechazados||s.rechazados||0}:s})||[],ye=s=>{const t=new Map;return s.forEach(r=>{const n=r.carrera?`${r.tipo.toLowerCase().trim()}-${r.carrera.toLowerCase().trim()}`:r.tipo.toLowerCase().trim();t.has(n)||t.set(n,[]),t.get(n).push(r)}),t},ve=(s,t)=>{const r=`${s}-${t}`;de(n=>({...n,[r]:!n[r]}))},Ne=[{title:"Dashboard",href:"/supervision"},{title:"Supervisión",href:"/supervision"},{title:x?.Campus||"Campus",href:"#"}],T=async s=>{if(s.url_descarga&&s.puede_descargar)try{const r=await(await fetch(s.url_descarga)).blob(),n=window.URL.createObjectURL(r),c=document.createElement("a");c.href=n,c.download=`${s.nombre||"documento"}.pdf`,document.body.appendChild(c),c.click(),document.body.removeChild(c),window.URL.revokeObjectURL(n)}catch(t){console.error("Error al descargar:",t);const r=document.createElement("a");r.href=s.url_descarga,r.download=s.nombre||"documento.pdf",document.body.appendChild(r),r.click(),document.body.removeChild(r)}},R=s=>{s.url_ver&&window.open(s.url_ver,"_blank")},L=s=>{const t={aprobado:"bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-400 border-green-200 dark:border-green-800",pendiente:"bg-yellow-100 dark:bg-yellow-900/30 text-yellow-800 dark:text-yellow-400 border-yellow-200 dark:border-yellow-800",vencido:"bg-orange-100 dark:bg-orange-900/30 text-orange-800 dark:text-orange-400 border-orange-200 dark:border-orange-800",rechazado:"bg-red-100 dark:bg-red-900/30 text-red-800 dark:text-red-400 border-red-200 dark:border-red-800"};return e.jsx(u,{className:t[s]||"bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-300",children:s.charAt(0).toUpperCase()+s.slice(1)})},te=s=>{switch(s){case"aprobado":return e.jsx(P,{className:"h-4 w-4 text-green-600 dark:text-green-400"});case"pendiente":return e.jsx(Ke,{className:"h-4 w-4 text-yellow-600 dark:text-yellow-400"});case"vencido":return e.jsx(G,{className:"h-4 w-4 text-orange-600 dark:text-orange-400"});case"rechazado":return e.jsx(qe,{className:"h-4 w-4 text-red-600 dark:text-red-400"});default:return e.jsx(g,{className:"h-4 w-4 text-gray-600 dark:text-gray-400"})}},k=s=>s&&s.replace(/fiscal/gi,"legal").toLowerCase(),ke=(s,t,r)=>{S(n=>({...n,[s]:{...n[s],estado:t}}))},we=(s,t)=>{S(r=>({...r,[s]:{...r[s],fecha_vencimiento:t}}))},_e=async s=>{const t=N[s];if(!t)return;p(n=>{const c={...n};return delete c[s],c});let r;if(v){for(const n of v)if(r=n.documentos.find(c=>(c.sdi_id||c.id)===s),r)break}if(t.estado==="aprobado"){const n=t.fecha_vencimiento||r?.fecha_vencimiento;if(console.log("Validando documento:",{documentoId:s,estado:t.estado,fechaAValidar:n,fechaOriginal:r?.fecha_vencimiento,fechaCambio:t.fecha_vencimiento}),n){const c=new Date;c.setHours(0,0,0,0);const i=new Date(n);if(console.log("Comparando fechas:",{fechaVenc:i.toISOString(),fechaActual:c.toISOString(),esVencida:i<c}),i<c){p(o=>({...o,[s]:"No se puede aprobar con fecha vencida"})),setTimeout(()=>{p(o=>{const a={...o};return delete a[s],a})},5e3);return}}}try{H(i=>({...i,[s]:!0}));const c=await(await fetch(`/supervision/actualizar-documento/${s}`,{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]')?.getAttribute("content")||"",Accept:"application/json"},body:JSON.stringify({estado:t.estado,fecha_vencimiento:t.fecha_vencimiento})})).json();c.success?(r&&(r.estado=c.documento.estado,r.fecha_vencimiento=c.documento.fecha_vencimiento),S(i=>{const o={...i};return delete o[s],o}),K(i=>({...i,[s]:!0})),setTimeout(()=>{K(i=>{const o={...i};return delete o[s],o})},3e3),Ve.reload({only:["documentos_agrupados","estadisticas"]})):p(i=>({...i,[s]:c.message||"Error al guardar"}))}catch(n){console.error("Error al guardar cambios:",n),p(c=>({...c,[s]:"Error de conexión"}))}finally{H(n=>{const c={...n};return delete c[s],c})}},Ce=s=>N[s]!==void 0;Ae.useEffect(()=>{x?.ID_Campus&&fetch(`/observaciones/${x.ID_Campus}/generales/count`).then(s=>s.json()).then(s=>{W(s.count||0)}).catch(s=>console.error("Error cargando count de observaciones generales:",s))},[x?.ID_Campus]);const Se=(s,t,r,n)=>{E(s),O(t),X(r||null),J(n||null),A(!1),D(!0)},De=()=>{E(null),O(""),A(!0),D(!0)},Ee=()=>{D(!1),E(null),O(""),X(null),J(null),A(!1),x?.ID_Campus&&fetch(`/observaciones/${x.ID_Campus}/generales/count`).then(s=>s.json()).then(s=>{W(s.count||0)}).catch(s=>console.error("Error recargando count de observaciones generales:",s))};return e.jsxs($e,{breadcrumbs:Ne,children:[e.jsx(ze,{title:`Campus ${x?.Campus||"Campus"} - Supervisión`}),e.jsxs("div",{className:"h-full w-full p-6 pl-8 pr-8 space-y-6",children:[e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow border border-gray-200 dark:border-gray-700 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx(Ie,{className:"h-8 w-8 text-blue-600 dark:text-blue-400"}),e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:["Campus ",x?.Campus||"Campus"]}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Supervisión de documentos"})]})]}),se&&e.jsxs(m,{variant:"ghost",size:"sm",onClick:De,className:"h-10 w-10 p-0 hover:bg-blue-50 hover:text-blue-700 dark:hover:bg-blue-900/20 dark:hover:text-blue-400 relative transition-colors",title:"Comentarios Generales del Campus",children:[e.jsx(ne,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"}),Q>0&&e.jsx("span",{className:"absolute -top-1 -right-1 h-5 w-5 rounded-full bg-gradient-to-br from-red-500 to-red-600 text-white text-xs font-bold flex items-center justify-center ring-2 ring-white dark:ring-gray-800 shadow-lg",children:Q})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs(b,{children:[e.jsxs(f,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(j,{className:"text-sm font-medium",children:"Total Documentos"}),e.jsx(g,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(y,{children:[e.jsx("div",{className:"text-2xl font-bold",children:V}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[be," pendientes"]})]})]}),e.jsxs(b,{children:[e.jsxs(f,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(j,{className:"text-sm font-medium",children:"Documentos Aprobados"}),e.jsx(P,{className:"h-4 w-4 text-green-600 dark:text-green-400"})]}),e.jsxs(y,{children:[e.jsx("div",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:ae}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[fe,"% cumplimiento"]})]})]}),e.jsxs(b,{children:[e.jsxs(f,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(j,{className:"text-sm font-medium",children:"Documentos Vencidos"}),e.jsx(G,{className:"h-4 w-4 text-red-600 dark:text-red-400"})]}),e.jsxs(y,{children:[e.jsx("div",{className:"text-2xl font-bold text-red-600 dark:text-red-400",children:pe}),e.jsx("p",{className:"text-xs text-red-600 dark:text-red-400",children:"Requieren atención"})]})]})]}),e.jsx("div",{className:"space-y-8",children:$&&$.length>0?$.map(s=>e.jsxs(b,{className:"shadow-sm border border-gray-200 dark:border-gray-700",children:[e.jsx(f,{className:"bg-gray-50/50 dark:bg-gray-800/50 border-b border-gray-100 dark:border-gray-700 py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-100 dark:bg-blue-900/30 rounded-lg flex items-center justify-center",children:e.jsx(g,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})}),e.jsxs("div",{children:[e.jsxs(j,{className:"text-lg font-semibold text-gray-800 dark:text-gray-200",children:["Tipo: ",k(s.tipo)]}),e.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-0.5",children:[s.total," ",s.total===1?"documento":"documentos"]})]})]}),e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.jsx(u,{variant:"outline",className:"text-xs font-medium",children:s.total}),e.jsx(u,{className:"bg-green-50 dark:bg-green-900/30 text-green-700 dark:text-green-400 border-green-200 dark:border-green-800 text-xs",children:s.aprobados}),e.jsx(u,{className:"bg-yellow-50 dark:bg-yellow-900/30 text-yellow-700 dark:text-yellow-400 border-yellow-200 dark:border-yellow-800 text-xs",children:s.pendientes}),s.vencidos>0&&e.jsx(u,{className:"bg-red-50 dark:bg-red-900/30 text-red-700 dark:text-red-400 border-red-200 dark:border-red-800 text-xs",children:s.vencidos})]})]})}),e.jsx(y,{className:"p-6",children:e.jsx("div",{className:"overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[e.jsx("thead",{className:"bg-gray-50 dark:bg-gray-800",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Documento"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Estado"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Vigencia"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Capturado por"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Actualizado por"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Acciones"})]})}),e.jsx("tbody",{className:"bg-white dark:bg-gray-900 divide-y divide-gray-200 dark:divide-gray-700",children:(()=>{const t=ye(s.documentos),r=[];return t.forEach((n,c)=>{const i=`${s.tipo}-${c}`,o=ie[i]||!1,a=n[0],M=n.length>1;r.push(e.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors",children:[e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[M&&e.jsx("button",{onClick:()=>ve(s.tipo,c),className:"p-1 hover:bg-gray-200 dark:hover:bg-gray-700 rounded transition-colors",children:o?e.jsx(Re,{className:"h-4 w-4 text-gray-600 dark:text-gray-400"}):e.jsx(Te,{className:"h-4 w-4 text-gray-600 dark:text-gray-400"})}),te(a.estado),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-gray-100 truncate",children:k(a.tipo)}),M&&e.jsxs(u,{variant:"outline",className:"text-xs",children:[n.length," archivos"]})]}),a.carrera&&e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 truncate",children:a.carrera})]})]})}),e.jsx("td",{className:"px-6 py-4",children:z?e.jsxs(Le,{value:N[a.sdi_id||a.id]?.estado||a.estado,onValueChange:d=>ke(a.sdi_id||a.id,d,a.fecha_vencimiento||void 0),children:[e.jsx(Me,{className:"w-[140px]",children:e.jsx(Pe,{})}),e.jsxs(Ge,{children:[e.jsx(w,{value:"aprobado",children:"Aprobado"}),e.jsx(w,{value:"pendiente",children:"Pendiente"}),e.jsx(w,{value:"vencido",children:"Vencido"}),e.jsx(w,{value:"rechazado",children:"Rechazado"})]})]}):L(a.estado)}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-500 dark:text-gray-400",children:e.jsxs("div",{className:"flex flex-col space-y-1",children:[z?e.jsx(Ue,{type:"date",value:N[a.sdi_id||a.id]?.fecha_vencimiento||a.fecha_vencimiento||"",onChange:d=>we(a.sdi_id||a.id,d.target.value),className:"w-[160px]"}):a.fecha_vencimiento||"Sin vencimiento",I[a.sdi_id||a.id]&&e.jsxs("div",{className:"flex items-center space-x-1 text-xs text-red-600 dark:text-red-400 bg-red-50 dark:bg-red-900/20 px-2 py-1 rounded animate-in fade-in duration-200",children:[e.jsx(G,{className:"h-3 w-3"}),e.jsx("span",{children:I[a.sdi_id||a.id]})]})]})}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-500 dark:text-gray-400",children:a.usuario||"-"}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-500 dark:text-gray-400",children:a.actualizado_por||"-"}),e.jsx("td",{className:"px-6 py-4 text-right",children:e.jsxs("div",{className:"flex justify-end items-center space-x-2",children:[z&&Ce(a.sdi_id||a.id)&&!q[a.sdi_id||a.id]&&e.jsx(m,{variant:"default",size:"sm",onClick:()=>_e(a.sdi_id||a.id),disabled:F[a.sdi_id||a.id],className:"h-8 px-3 bg-gradient-to-r from-green-600 to-green-700 hover:from-green-700 hover:to-green-800 text-white shadow-md hover:shadow-lg transition-all duration-200",title:"Guardar cambios",children:F[a.sdi_id||a.id]?e.jsxs(e.Fragment,{children:[e.jsx(Fe,{className:"h-4 w-4 mr-1 animate-spin"}),e.jsx("span",{className:"text-xs",children:"Guardando..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(Je,{className:"h-4 w-4 mr-1"}),e.jsx("span",{className:"text-xs font-medium",children:"Guardar"})]})}),q[a.sdi_id||a.id]&&e.jsxs("div",{className:"flex items-center space-x-1 text-green-600 dark:text-green-400 animate-in fade-in duration-300",children:[e.jsx(P,{className:"h-5 w-5"}),e.jsx("span",{className:"text-sm font-medium",children:"Guardado"})]}),se&&e.jsx(m,{variant:"ghost",size:"sm",onClick:()=>Se(a.sdi_id||a.id,k(a.tipo),a.observaciones,a.observaciones_archivo),className:"h-8 w-8 p-0 hover:bg-blue-50 hover:text-blue-700 dark:hover:bg-blue-900/20 dark:hover:text-blue-400 relative transition-colors",title:"Ver observaciones",children:e.jsx(ne,{className:"h-4 w-4 text-blue-600 dark:text-blue-400"})}),e.jsx(m,{variant:"ghost",size:"sm",onClick:()=>a.url_ver?R(a):null,disabled:!a.url_ver,className:`h-8 w-8 p-0 ${a.url_ver?"hover:bg-blue-100 hover:text-blue-700":"opacity-50 cursor-not-allowed"}`,title:"Ver documento",children:e.jsx(B,{className:"h-4 w-4"})}),e.jsx(m,{variant:"ghost",size:"sm",onClick:()=>a.url_descarga?T(a):null,disabled:!a.puede_descargar||!a.url_descarga,className:`h-8 w-8 p-0 ${!a.puede_descargar||!a.url_descarga?"opacity-50 cursor-not-allowed":"hover:bg-green-100 hover:text-green-700"}`,title:"Descargar documento",children:e.jsx(U,{className:"h-4 w-4"})})]})})]},`main-${i}`)),o&&M&&n.slice(1).forEach((d,re)=>{r.push(e.jsxs("tr",{className:"bg-gray-50 dark:bg-gray-800/50",children:[e.jsx("td",{className:"px-6 py-3 pl-16",children:e.jsx("div",{className:"flex flex-col space-y-1",children:e.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600 dark:text-gray-400",children:[e.jsx(g,{className:"h-3 w-3"}),e.jsxs("span",{className:"text-xs",children:["Archivo ",re+2]}),d.carrera&&e.jsxs("span",{className:"text-xs",children:["• ",d.carrera]})]})})}),e.jsx("td",{className:"px-6 py-3",children:L(d.estado)}),e.jsx("td",{className:"px-6 py-3 text-xs text-gray-500 dark:text-gray-400",children:d.fecha_vencimiento||"-"}),e.jsx("td",{className:"px-6 py-3 text-xs text-gray-500 dark:text-gray-400",children:d.usuario||"-"}),e.jsx("td",{className:"px-6 py-3 text-xs text-gray-500 dark:text-gray-400",children:d.actualizado_por||"-"}),e.jsx("td",{className:"px-6 py-3 text-right",children:e.jsxs("div",{className:"flex justify-end items-center space-x-2",children:[e.jsx(m,{variant:"ghost",size:"sm",onClick:()=>d.url_ver?R(d):null,disabled:!d.url_ver,className:"h-7 w-7 p-0",children:e.jsx(B,{className:"h-3 w-3"})}),e.jsx(m,{variant:"ghost",size:"sm",onClick:()=>d.url_descarga?T(d):null,disabled:!d.puede_descargar||!d.url_descarga,className:"h-7 w-7 p-0",children:e.jsx(U,{className:"h-3 w-3"})})]})})]},`${i}-${re}`))})}),r})()})]})})})})]},s.tipo)):e.jsxs(b,{children:[e.jsx(f,{children:e.jsxs(j,{className:"flex items-center",children:[e.jsx(g,{className:"h-5 w-5 mr-2 text-blue-600 dark:text-blue-400"}),"Documentos del Campus"]})}),e.jsx(y,{children:_&&_.length>0?e.jsx("div",{className:"space-y-3",children:_.map(s=>e.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 dark:border-gray-700 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800",children:[e.jsxs("div",{className:"flex items-center space-x-3 flex-1",children:[te(s.estado),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-medium text-sm text-gray-900 dark:text-gray-100",children:k(s.tipo)}),e.jsxs("div",{className:"flex items-center space-x-4 text-xs text-gray-500 dark:text-gray-400 mt-1",children:[e.jsxs("span",{children:["Archivo: ",s.nombre]}),e.jsxs("span",{children:["Subido: ",s.fecha_subida]}),e.jsxs("span",{children:["Usuario: ",s.usuario||""]})]})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[L(s.estado),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs(m,{variant:"outline",size:"sm",onClick:()=>s.url_ver?R(s):null,disabled:!s.url_ver,className:`h-8 px-3 ${s.url_ver?"":"opacity-50 cursor-not-allowed"}`,children:[e.jsx(B,{className:"h-4 w-4 mr-1"}),"Ver ",!s.url_ver&&"(N/A)"]}),e.jsxs(m,{variant:"outline",size:"sm",onClick:()=>s.url_descarga?T(s):null,disabled:!s.puede_descargar||!s.url_descarga,className:`h-8 px-3 ${!s.puede_descargar||!s.url_descarga?"opacity-50 cursor-not-allowed":""}`,children:[e.jsx(U,{className:"h-4 w-4 mr-1"}),"Descargar ",(!s.puede_descargar||!s.url_descarga)&&"(N/A)"]})]})]})]},s.sdi_id||`doc-${s.id}`))}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(g,{className:"h-12 w-12 text-gray-300 dark:text-gray-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"No hay documentos disponibles"}),e.jsx("p",{className:"text-sm text-gray-400 dark:text-gray-500",children:"Los documentos aparecerán aquí cuando estén disponibles"})]})})]})})]}),e.jsx(Be,{isOpen:le,onClose:Ee,documentoInformacionId:oe,campusId:x?.ID_Campus||"",documentoNombre:xe,isGlobalComment:ue,observacionesSistema:me,observacionesArchivoSistema:he})]})}export{vs as default};
